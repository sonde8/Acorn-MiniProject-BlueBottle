if(void 0===sm_pro_version_settings||null==sm_pro_version_settings)var sm_pro_version_settings={limit_gift_value:0,can_cumulate_order_total_value_offers:0,adapt_to_currency:0,auto_gift_box_open_value:"never"};if(void 0===sm_quantity_selector_attr||null==sm_quantity_selector_attr)var sm_quantity_selector_attr="id";if(void 0===sm_multiple_products_gifts||null==sm_multiple_products_gifts)var sm_multiple_products_gifts=[];if(void 0===sm_collections_products_ids||null==sm_collections_products_ids)var sm_collections_products_ids={};if(void 0===sm_order_offers_conditions_products_ids||null==sm_order_offers_conditions_products_ids)var sm_order_offers_conditions_products_ids={};if(void 0===sm_cart_products_tags||null==sm_cart_products_tags)var sm_cart_products_tags=[];if(void 0===productSMID||null==productSMID)var productSMID=0;if(void 0===productSMVendor||null==productSMVendor)var productSMVendor="";if(void 0===productSMType||null==productSMType)var productSMType="";if(void 0===sm_product_detail_big_img_path||null==sm_product_detail_big_img_path)var sm_product_detail_big_img_path="media-gallery slider-component .product__media-list";var ajaxIsRunning=!1,can_cumulate_order_offers=1==parseInt(sm_pro_version_settings.can_cumulate_order_total_value_offers),smfixedParentProductsSelectors=[".card:eq(0)",".grid__item:eq(0)",".grid-item:eq(0)"],smDateFormatOptions=[{label:"MM/DD/YYYY",value:"1"},{label:"DD/MM/YYYY",value:"2"},{label:"YYYY/MM/DD",value:"3"},{label:"YYYY/DD/MM",value:"4"},{label:"MM-DD-YYYY",value:"5"},{label:"DD-MM-YYYY",value:"6"},{label:"YYYY-MM-DD",value:"7"},{label:"YYYY-DD-MM",value:"8"},{label:"MM.DD.YYYY",value:"9"},{label:"DD.MM.YYYY",value:"10"},{label:"YYYY.MM.DD",value:"11"},{label:"YYYY.DD.MM",value:"12"}];function initConfiguration(arguments){if("undefined"==typeof sm_is_cart_page)return!1;jQuery=arguments[0],callFunctionSM("beforeAction",[jQuery],!1),callFunctionSM("recalculateCartTotalValueBySelectedCurrency",[jQuery],!1),callFunctionSM("refreshGiftBox",[!1,jQuery],!1),callFunctionSM("showFreeGiftIconInProductDetail",[jQuery],!1),callFunctionSM("overridePaymentButtonEvent",[jQuery],!1),callFunctionSM("overrideCheckouButtonEvent",[jQuery],!1),callFunctionSM("thirdPartyAppsCallbacks",[jQuery],!1),jQuery(document).on("click",".smAddGiftToCart",(function(){ajaxIsRunning||(jQuery(this).parents(".smProductGift").length>0?callFunctionSM("addProductGiftToCart",[jQuery(this).parents(".smProductGift"),jQuery],!1):jQuery(this).parents(".smMultipleProductsGift").length>0?callFunctionSM("addProductGiftToCart",[jQuery(this).parents(".smMultipleProductsGift"),jQuery],!1):callFunctionSM("addOrderGiftToCart",[jQuery(this),jQuery],!1))})),jQuery(document).on("click",".removeFromCart",(function(){ajaxIsRunning||callFunctionSM("removeProductFromCart",[jQuery(this).attr("data-variant-id"),1==parseInt(jQuery(this).parents(".giftWrapper").attr("data-automatically-add-to-cart")),!0,jQuery],!1)})),jQuery(document).on("change",".smProductVariants",(function(t){t.preventDefault(),callFunctionSM("changeGiftVariantPrice",[jQuery(this),jQuery],!1)})),jQuery(document).on("click",".smProductVariants",(function(t){t.preventDefault()})),jQuery(document).on("change",".smGiftInCartVariants",(function(t){t.preventDefault(),callFunctionSM("changeGiftVariantInCart",[jQuery(this),jQuery],!1)})),jQuery(document).on("click",'form[action="/cart"] button[type="submit"][name="checkout"]',(function(t){jQuery.getJSON("/cart.js",(function(t){callFunctionSM("checkIfGiftsCanBeInCart",[t,jQuery],!1)}))})),jQuery("#sticky_gift_icon").on("click",(function(){jQuery("#gift_container .giftContainerContent").fadeToggle("fast",(function(){"block"==jQuery("#gift_container .giftContainerContent").css("display")?(jQuery("#sticky_gift_icon .showGifts").hide(),jQuery("#sticky_gift_icon .hideGifts").show()):(jQuery("#sticky_gift_icon .hideGifts").hide(),jQuery("#sticky_gift_icon .showGifts").show())}))})),jQuery(document).on("ajaxComplete",(function(t,e,r){callFunctionSM("ajaxCartComplete",[jQuery,e,r],!1)})),jQuery(document).ajaxSuccess((function(t,e,r){callFunctionSM("ajaxCartComplete",[jQuery,e,r],!1)})),"undefined"!=typeof $&&($(document).on("ajaxComplete",(function(t,e,r){callFunctionSM("ajaxCartComplete",[$,e,r],!1)})),$(document).ajaxSuccess((function(t,e,r){callFunctionSM("ajaxCartComplete",[$,e,r],!1)}))),callFunctionSM("fetchOverride",[jQuery],!1)}function beforeAction(arguments){jQuery=arguments[0]}function fetchOverride(arguments){jQuery=arguments[0];const t=window.fetch;window.fetch=function(){return fetchResult=t.apply(this,arguments),fetchResult.then((function(t){callFunctionSM("ajaxCartComplete",[jQuery,{status:t.status},t],!1)})),fetchResult}}function ajaxCartComplete(arguments){jQuery=arguments[0],xhr=arguments[1],settings=arguments[2];try{"undefined"!=typeof settings&&(-1===settings.url.indexOf("/cart/add")&&-1===settings.url.indexOf("/cart/update")&&-1===settings.url.indexOf("/cart/change")||200!=xhr.status||(refreshBox=!0,void 0!==settings.data&&void 0!==settings.data.indexOf&&(-1!==settings.data.indexOf("sm_gift=1")&&(refreshBox=!1),-1!==settings.data.indexOf("sm_is_payment_button=1")&&(callFunctionSM("refreshGiftBox",[!1,jQuery],!1),setTimeout((function(){window.location.href="/checkout"}),1e3))),refreshBox&&callFunctionSM("refreshGiftBox",[!1,jQuery],!1)))}catch(t){}}function refreshGiftBox(arguments){removedFromCartByCustomer=arguments[0],jQuery=arguments[1],jQuery.getJSON("/cart.js",(function(t){jQuery("#gift_container .giftContainerContent").empty(),callFunctionSM("checkIfCanCumulatedOrderGifts",[jQuery],!0)?callFunctionSM("checkCumulatedOrderGifts",[t,jQuery],!0):callFunctionSM("checkOrderGifts",[t,jQuery],!0),callFunctionSM("checkMultipleProductsGifts",[t,removedFromCartByCustomer,jQuery],!0),productsToOfferGifts=[],productsToOfferGiftsKeys=[],jQuery.each(t.items,(function(t,e){jQuery.each(sm_products_gifts,(function(t,r){callFunctionSM("giftCanBeDisplayed",[r,jQuery],!0)&&parseInt(e.product_id)==parseInt(t)&&!productsToOfferGiftsKeys.includes(t)&&(productsToOfferGiftsKeys.push(t),productsToOfferGifts.push({id:t,productValues:r,allowAddToCart:!0}))}))})),jQuery.each(sm_products_gifts,(function(t,e){callFunctionSM("giftCanBeDisplayed",[e,jQuery],!0)&&!productsToOfferGiftsKeys.includes(t)&&(productsToOfferGiftsKeys.push(t),productsToOfferGifts.push({id:t,productValues:e,allowAddToCart:!1}))})),ajaxProductRequests=[],ajaxProduct=[],ajaxProductGiftsRequests=[],ajaxProductGifts=[],jQuery.each(productsToOfferGifts,(function(e,r){cartItem=callFunctionSM("checkIfGiftFromSectionIsInCart",[t,r.productValues.gifts,sm_products_gifts[r.id].id,jQuery],!0),productMinimalQuantity=callFunctionSM("getProductMinimalQuantity",[r.productValues.id,jQuery],!0),productInCartQuantity=callFunctionSM("checkProductQuantityInCartByID",[t,r.productValues.id,jQuery],!0),jQuery("#gift_container .giftContainerContent").append('<div class="giftWrapper productsToOfferGiftsWrapper" '+(jQuery.isEmptyObject(cartItem.item)?"style='"+(1==parseInt(r.productValues.showAlwaysInGiftbox)?"display:block":"display:none")+"'":"style='border: 1px solid #00800070;background: rgb(245, 251, 244);"+(1==parseInt(r.productValues.showAlwaysInGiftbox)?"display:block":"display:none")+"'")+' data-automatically-add-to-cart="'+callFunctionSM("getAutoAddToCartAttr",[r.productValues.automaticallyAddToCart,"product",r.productValues.id],!0)+'" data-minimal-quantity-is-in-cart="'+(productMinimalQuantity<=productInCartQuantity?1:0)+'"><div class="giftAlreadyInCart" data-product-id="'+r.productValues.id+'" '+(jQuery.isEmptyObject(cartItem.item)?"style='display:none'":"")+'><span class="alreadyInCartGiftTitle"></span><span class="removeFromCart"></span></div><div class="giftsToOffer" data-product-id="'+r.productValues.id+'" '+(callFunctionSM("getCanAddMoreGiftsFromOffer",[r.productValues.id,jQuery],!0)?"":"style='display:none'")+'><span class="productsToOfferGiftsTitle"></span><ul class="smProductGiftsWrapper" data-allow-add-to-cart="'+(r.allowAddToCart?1:0)+'" data-product-id="'+r.productValues.id+'"></ul>'+callFunctionSM("getValidUntilDateHtml",[r.productValues,jQuery],!0)+"</div></div>"),ajaxProductRequests.push(jQuery.getJSON("/products/"+r.productValues.url+".js").done((function(t){ajaxProduct.push(t)}))),jQuery.each(r.productValues.gifts,(function(t,e){ajaxProductGiftsRequests.push(jQuery.getJSON("/products/"+e.url+".js").done((function(t){ajaxProductGifts.push(t)})))}))})),jQuery.when.apply(jQuery,ajaxProductRequests).always((function(){ajaxProductSorted=callFunctionSM("sortLoadedProducts",[ajaxProduct,jQuery],!0),jQuery.each(ajaxProductSorted,(function(e,r){cartItem=callFunctionSM("checkIfGiftFromSectionIsInCart",[t,sm_products_gifts[r.id].gifts,sm_products_gifts[r.id].id,jQuery],!0),jQuery.isEmptyObject(cartItem.item)?(productMinimalQuantity=callFunctionSM("getProductMinimalQuantity",[r.id,jQuery],!0),productInCartQuantity=callFunctionSM("checkProductQuantityInCartByID",[t,r.id,jQuery],!0),productGiftsLabel=callFunctionSM("getTranslationLabel",["pick_free_gift_for_product",{product:r,quantity:1},jQuery],!0),(0==parseInt(jQuery('.giftsToOffer[data-product-id="'+r.id+'"] .smProductGiftsWrapper').attr("data-allow-add-to-cart"))||productMinimalQuantity>productInCartQuantity)&&(productGiftsLabel=callFunctionSM("getTranslationLabel",["add_product_to_cart_and_get_gift",{product:r,quantity:productMinimalQuantity-productInCartQuantity},jQuery],!0)),jQuery('.giftsToOffer[data-product-id="'+r.id+'"] .productsToOfferGiftsTitle').html(productGiftsLabel)):(jQuery('.giftAlreadyInCart[data-product-id="'+r.id+'"] .alreadyInCartGiftTitle').html(callFunctionSM("getTranslationLabel",["gift_already_in_cart",cartItem,jQuery],!0)),jQuery('.giftAlreadyInCart[data-product-id="'+r.id+'"] .removeFromCart').attr("data-variant-id",cartItem.item.variant_id),jQuery('.giftAlreadyInCart[data-product-id="'+r.id+'"] .removeFromCart').html(callFunctionSM("getTranslationLabel",["remove_from_cart",{},jQuery],!0))),callFunctionSM("copyProductGiftBoxToDetailPage",[jQuery],!1)}))})),jQuery.when.apply(jQuery,ajaxProductGiftsRequests).always((function(){ajaxProductGiftsSorted=callFunctionSM("sortLoadedProducts",[ajaxProductGifts,jQuery],!0),jQuery.each(ajaxProductGiftsSorted,(function(e,r){callFunctionSM("addProductGiftToGiftBox",[r,t,jQuery],!1)})),giftsInCartCount=callFunctionSM("getGiftsInCartCount",[t,jQuery],!0),jQuery(".productsToOfferGiftsWrapper").each((function(){jQuery(this).find("li").length>0&&"none"==jQuery(this).find(".giftAlreadyInCart").css("display")&&(1!=parseInt(jQuery(this).attr("data-minimal-quantity-is-in-cart"))||1!=parseInt(jQuery(this).attr("data-automatically-add-to-cart"))||1!=parseInt(jQuery(this).find(".smProductGiftsWrapper").attr("data-allow-add-to-cart"))||removedFromCartByCustomer?jQuery(this).find(".giftsToOffer").show():callFunctionSM("addProductGiftToCartAutomatically",[jQuery(this),jQuery],!1)),0==jQuery(this).find("li").length&&(jQuery(this).remove(),callFunctionSM("showGiftsCount",[jQuery],!1))})),callFunctionSM("copyProductGiftBoxToDetailPage",[jQuery],!1),callFunctionSM("checkForOpenGiftBox",[jQuery],!1)})),callFunctionSM("searchForGiftProducts",[t,jQuery],!1),callFunctionSM("checkIfGiftsCanBeInCart",[t,jQuery],!1),callFunctionSM("displayGiftsBox",[jQuery],!1),callFunctionSM("checkForOpenGiftBox",[jQuery],!1),callFunctionSM("copyProductGiftBoxToDetailPage",[jQuery],!1),callFunctionSM("copyMultipleProductGiftBoxToDetailPage",[jQuery],!1),callFunctionSM("setGiftsLinksStyle",[jQuery],!1)}))}function checkMultipleProductsGifts(arguments){cart=arguments[0],removedFromCartByCustomer=arguments[1],jQuery=arguments[2],ajaxMultipleProductsGiftsRequests=[],ajaxMultipleProductsGifts=[],jQuery.each(sm_multiple_products_gifts,(function(t,e){callFunctionSM("giftCanBeDisplayed",[e,jQuery],!0)&&(allowAddToCart=0,1==parseInt(e.multipleProductsType)?allowAddToCart=callFunctionSM("checkIfGiftCanBeInCartByCollection",[cart,e.multipleValues,jQuery],!0)?1:0:2==parseInt(e.multipleProductsType)?allowAddToCart=callFunctionSM("checkIfGiftCanBeInCartByVendor",[cart,e.multipleValues,jQuery],!0)?1:0:4==parseInt(e.multipleProductsType)?allowAddToCart=callFunctionSM("checkIfGiftCanBeInCartByType",[cart,e.multipleValues,jQuery],!0)?1:0:5==parseInt(e.multipleProductsType)&&(allowAddToCart=callFunctionSM("checkIfGiftCanBeInCartByProduct",[cart,e.multipleValues,jQuery],!0)?1:0),productMinimalQuantity=callFunctionSM("getProductMinimalQuantityForMultipleProducts",[e,jQuery],!0),productInCartQuantity=callFunctionSM("checkMultipleProductQuantityInCart",[cart,e,jQuery],!0),cartItem=callFunctionSM("checkIfGiftFromSectionIsInCart",[cart,e.gifts,e.id,jQuery],!0),multipleProductsValuesList=callFunctionSM("getMultipleProductsValuesList",[e.multipleProductsType,e.multipleValues,jQuery],!0),labelText=allowAddToCart&&productMinimalQuantity<=productInCartQuantity?callFunctionSM("getTranslationLabel",["pick_free_gift_for_multiple_products",{typeValues:multipleProductsValuesList},jQuery],!0):callFunctionSM("getTranslationLabel",["add_multiple_products_to_cart_and_get_gift",{typeValues:multipleProductsValuesList,quantity:productMinimalQuantity-productInCartQuantity},jQuery],!0),jQuery("#gift_container .giftContainerContent").append(callFunctionSM("getMultipleProductsGiftsOfferHTML",[cartItem,e,labelText,allowAddToCart,productMinimalQuantity<=productInCartQuantity?1:0,jQuery],!0)),jQuery.each(e.gifts,(function(t,e){ajaxMultipleProductsGiftsRequests.push(jQuery.getJSON("/products/"+e.url+".js").done((function(t){ajaxMultipleProductsGifts.push(t)})))})))})),jQuery.when.apply(jQuery,ajaxMultipleProductsGiftsRequests).always((function(){ajaxajaxMultipleProductsGiftsSorted=callFunctionSM("sortLoadedProducts",[ajaxMultipleProductsGifts,jQuery],!0),jQuery.each(ajaxajaxMultipleProductsGiftsSorted,(function(t,e){callFunctionSM("addMultipleProductsToGiftBox",[e,jQuery],!1)})),giftsInCartCount=callFunctionSM("getGiftsInCartCount",[cart,jQuery],!0),jQuery(".multipleProductsGiftsWrapper").each((function(){jQuery(this).find("li").length>0&&1==parseInt(jQuery(this).attr("data-minimal-quantity-is-in-cart"))&&"none"==jQuery(this).find(".giftAlreadyInCart").css("display")&&1==parseInt(jQuery(this).attr("data-automatically-add-to-cart"))&&1==parseInt(jQuery(this).find(".smMultipleProductsGiftsWrapper").attr("data-allow-add-to-cart"))&&!removedFromCartByCustomer&&callFunctionSM("addMultipleProductsGiftToCartAutomatically",[jQuery(this),jQuery],!1),0==jQuery(this).find("li").length&&"none"==jQuery(this).find(".giftAlreadyInCart").css("display")&&(jQuery(this).remove(),callFunctionSM("showGiftsCount",[jQuery],!1))})),callFunctionSM("checkForOpenGiftBox",[jQuery],!1),callFunctionSM("copyMultipleProductGiftBoxToDetailPage",[jQuery],!1)}))}function checkCumulatedOrderGifts(arguments){cart=arguments[0],jQuery=arguments[1],cartTotal=parseInt(cart.total_price)/100,ajaxOrderGiftsRequests=[],ajaxOrdersGifts=[],jQuery.each(sm_orders_gifts,(function(t,e){callFunctionSM("giftCanBeDisplayed",[e,jQuery],!0)&&(cartTotalValuesCondition=callFunctionSM("getCartTotalValuesCondition",[cart,e,jQuery],!0),allowAddToCart=cartTotalValuesCondition.allowed&&cartTotal>=parseFloat(e.order_minimum)?1:0,orderMinimumFormated=e.order_minimum,toSpend=parseFloat(e.order_minimum)-cartTotal,callFunctionSM("giftCTVFilterConditions",[e,jQuery],!0).length>0&&(allowAddToCart=cartTotalValuesCondition.allowed&&cartTotalValuesCondition.spendedForAllConditionalProducts>=parseFloat(e.order_minimum)?1:0,toSpend=parseFloat(e.order_minimum)-cartTotalValuesCondition.spendedForAllConditionalProducts),toSpend=toSpend<0?0:toSpend,toSpendInPercent=Math.round(100-toSpend/orderMinimumFormated*100),""!=typeof sm_money_format?(moneyFormatFromConfig=callFunctionSM("getMoneyFormatFromConfig",[],!0),orderMinimumFormated=Shopify.formatMoney(100*e.order_minimum,moneyFormatFromConfig),toSpend=Shopify.formatMoney(100*toSpend,moneyFormatFromConfig)):"undefined"!=typeof Shopify&&void 0!==Shopify.money_format&&(orderMinimumFormated=Shopify.formatMoney(100*e.order_minimum,Shopify.money_format),toSpend=Shopify.formatMoney(100*toSpend,Shopify.money_format)),labeltext=allowAddToCart?callFunctionSM("getTranslationLabel",["pick_free_gift_for_order",orderMinimumFormated,jQuery],!0):callFunctionSM("getTranslationForBuyForMore",[{orderMinimumFormated:orderMinimumFormated,toSpend:toSpend},callFunctionSM("giftCTVFilterConditions",[e,jQuery],!0),jQuery],!0),cartItem=callFunctionSM("checkIfGiftFromSectionIsInCart",[cart,e.gifts,e.id,jQuery],!0),jQuery("#gift_container .giftContainerContent").append(callFunctionSM("getOrderGiftOfferHTML",[cartItem,e,labeltext,toSpendInPercent,allowAddToCart,jQuery],!0)),jQuery.each(e.gifts,(function(t,e){ajaxOrderGiftsRequests.push(jQuery.getJSON("/products/"+e.url+".js").done((function(t){ajaxOrdersGifts.push(t)})))})))})),jQuery.when.apply(jQuery,ajaxOrderGiftsRequests).always((function(){ajaxOrdersGiftsSorted=callFunctionSM("sortLoadedProducts",[ajaxOrdersGifts,jQuery],!0),jQuery.each(ajaxOrdersGiftsSorted,(function(t,e){callFunctionSM("addOrderGiftToGiftBox",[cart,e,jQuery],!1)})),jQuery(".orderGiftsWrapper").each((function(){orderGiftWrapper=jQuery(this),orderGiftWrapper.find("li").length>0?1!=parseInt(orderGiftWrapper.attr("data-automatically-add-to-cart"))||1!=parseInt(orderGiftWrapper.find(".smOrderGiftsWrapper").attr("data-allow-add-to-cart"))||removedFromCartByCustomer?"none"!=orderGiftWrapper.find(".giftAlreadyInCart").css("display")||callFunctionSM("getCanAddMoreGiftsFromOffer",[orderGiftWrapper.find(".smOrderGiftsWrapper").attr("data-order-id"),jQuery],!0)||orderGiftWrapper.find(".giftsToOffer").show():callFunctionSM("addOrderGiftToCartAutomatically",[cart,orderGiftWrapper,jQuery],!1):(orderGiftWrapper.remove(),callFunctionSM("showGiftsCount",[jQuery],!1))})),callFunctionSM("checkForOpenGiftBox",[jQuery],!1)}))}function checkOrderGifts(arguments){cart=arguments[0],jQuery=arguments[1],giftsInCartCount=callFunctionSM("getGiftsInCartCount",[cart,jQuery],!0),cartTotal=parseInt(cart.total_price)/100,ajaxOrderGiftsRequests=[],ajaxOrdersGifts=[],jQuery.each(sm_orders_gifts,(function(t,e){callFunctionSM("giftCanBeDisplayed",[e,jQuery],!0)&&(nextIndex=t,void 0!==sm_orders_gifts[t+1]&&(nextIndex=t+1),(cartTotal<parseFloat(sm_orders_gifts[nextIndex].order_minimum)||t==nextIndex)&&(cartTotalValuesCondition=callFunctionSM("getCartTotalValuesCondition",[cart,e,jQuery],!0),allowAddToCart=cartTotalValuesCondition.allowed&&(cartTotal<parseFloat(sm_orders_gifts[nextIndex].order_minimum)&&cartTotal>=parseFloat(e.order_minimum)||t==nextIndex&&cartTotal>=parseFloat(e.order_minimum))?1:0,orderMinimumFormated=e.order_minimum,toSpend=parseFloat(e.order_minimum)-cartTotal,callFunctionSM("giftCTVFilterConditions",[e,jQuery],!0).length>0&&(allowAddToCart=cartTotalValuesCondition.allowed&&(cartTotalValuesCondition.spendedForAllConditionalProducts<parseFloat(sm_orders_gifts[nextIndex].order_minimum)&&cartTotal>=parseFloat(e.order_minimum)||t==nextIndex&&cartTotal>=parseFloat(e.order_minimum))?1:0,toSpend=parseFloat(e.order_minimum)-cartTotalValuesCondition.spendedForAllConditionalProducts),toSpend=toSpend<0?0:toSpend,toSpendInPercent=Math.round(100-toSpend/orderMinimumFormated*100),""!=typeof sm_money_format?(moneyFormatFromConfig=callFunctionSM("getMoneyFormatFromConfig",[],!0),orderMinimumFormated=Shopify.formatMoney(100*e.order_minimum,moneyFormatFromConfig),toSpend=Shopify.formatMoney(100*toSpend,moneyFormatFromConfig)):"undefined"!=typeof Shopify&&void 0!==Shopify.money_format&&(orderMinimumFormated=Shopify.formatMoney(100*e.order_minimum,Shopify.money_format),toSpend=Shopify.formatMoney(100*toSpend,Shopify.money_format)),labeltext=allowAddToCart?callFunctionSM("getTranslationLabel",["pick_free_gift_for_order",orderMinimumFormated,jQuery],!0):callFunctionSM("getTranslationForBuyForMore",[{orderMinimumFormated:orderMinimumFormated,toSpend:toSpend},callFunctionSM("giftCTVFilterConditions",[e,jQuery],!0),jQuery],!0),cartItem=callFunctionSM("checkIfGiftFromSectionIsInCart",[cart,e.gifts,e.id,jQuery],!0),jQuery("#gift_container .giftContainerContent").append(callFunctionSM("getOrderGiftOfferHTML",[cartItem,e,labeltext,toSpendInPercent,allowAddToCart,jQuery],!0))),jQuery.each(e.gifts,(function(t,e){ajaxOrderGiftsRequests.push(jQuery.getJSON("/products/"+e.url+".js").done((function(t){ajaxOrdersGifts.push(t)})))})))})),jQuery.when.apply(jQuery,ajaxOrderGiftsRequests).always((function(){ajaxOrdersGiftsSorted=callFunctionSM("sortLoadedProducts",[ajaxOrdersGifts,jQuery],!0),jQuery.each(ajaxOrdersGiftsSorted,(function(t,e){callFunctionSM("addOrderGiftToGiftBox",[cart,e,jQuery],!1)})),jQuery(".orderGiftsWrapper").each((function(){orderGiftWrapper=jQuery(this),orderGiftWrapper.find("li").length>0?1!=parseInt(orderGiftWrapper.attr("data-automatically-add-to-cart"))||1!=parseInt(orderGiftWrapper.find(".smOrderGiftsWrapper").attr("data-allow-add-to-cart"))||removedFromCartByCustomer?"none"!=orderGiftWrapper.find(".giftAlreadyInCart").css("display")||callFunctionSM("getCanAddMoreGiftsFromOffer",[orderGiftWrapper.find(".smOrderGiftsWrapper").attr("data-order-id"),jQuery],!0)||orderGiftWrapper.find(".giftsToOffer").show():callFunctionSM("addOrderGiftToCartAutomatically",[cart,orderGiftWrapper,jQuery],!1):(orderGiftWrapper.remove(),callFunctionSM("showGiftsCount",[jQuery],!1))})),callFunctionSM("checkForOpenGiftBox",[jQuery],!1)}))}function getTranslationForBuyForMore(arguments){return translationsVariables=arguments[0],filterConditions=arguments[1],jQuery=arguments[2],filterConditions.length>0?(conditionalProducts=[],conditionalCollections=[],conditionalVendors=[],jQuery.each(filterConditions,(function(t,e){1==parseInt(e.type)?conditionalProducts.push(e.value):2==parseInt(e.type)?conditionalCollections.push(e.value):conditionalVendors.push(e.value)})),translationsVariables={orderMinimumFormated:translationsVariables.orderMinimumFormated,toSpend:translationsVariables.toSpend,conditionalProducts:conditionalProducts.join(","),conditionalCollections:conditionalCollections.join(","),conditionalVendors:conditionalVendors.join(",")},callFunctionSM("getTranslationLabel",["buy_for_more_and_get_gift_with_conditions",translationsVariables,jQuery],!0)):callFunctionSM("getTranslationLabel",["buy_for_more_and_get_gift",translationsVariables,jQuery],!0)}function getCartTotalValuesCondition(arguments){return cart=arguments[0],orderGiftsOffer=arguments[1],jQuery=arguments[2],spendedForAllConditionalProducts=0,callFunctionSM("giftCTVFilterConditions",[orderGiftsOffer,jQuery],!0).length>0&&cart.items.length>0?callFunctionSM("hasOnlyExcludedProductsCondition",[callFunctionSM("giftCTVFilterConditions",[orderGiftsOffer,jQuery],!0),jQuery],!0)?{allowed:!callFunctionSM("hasOnlyExcludedProductsInCart",[cart,callFunctionSM("giftCTVFilterConditions",[orderGiftsOffer,jQuery],!0),jQuery],!0),spendedForAllConditionalProducts:parseInt(cart.total_price)/100-callFunctionSM("excludedProductsInCartTotalPrice",[cart,callFunctionSM("giftCTVFilterConditions",[orderGiftsOffer,jQuery],!0),jQuery],!0)}:(checkedProducts=[],productsConditionsByCTVAreMet=callFunctionSM("checkCTVProductsConditions",[cart,callFunctionSM("giftCTVFilterConditions",[orderGiftsOffer,jQuery],!0),checkedProducts,jQuery],!0),checkedProducts=productsConditionsByCTVAreMet.checkedProducts,collectionsConditionsByCTVAreMet=callFunctionSM("checkCTVCollectionsConditions",[cart,callFunctionSM("giftCTVFilterConditions",[orderGiftsOffer,jQuery],!0),checkedProducts,jQuery],!0),checkedProducts=collectionsConditionsByCTVAreMet.checkedProducts,vendorsConditionsByCTVAreMet=callFunctionSM("checkCTVVendorsConditions",[cart,callFunctionSM("giftCTVFilterConditions",[orderGiftsOffer,jQuery],!0),checkedProducts,jQuery],!0),checkedProducts=vendorsConditionsByCTVAreMet.checkedProducts,spendedForAllConditionalProducts=productsConditionsByCTVAreMet.spended+collectionsConditionsByCTVAreMet.spended+vendorsConditionsByCTVAreMet.spended,spendedForAllConditionalProducts>=parseFloat(orderGiftsOffer.order_minimum)&&("all"==callFunctionSM("giftCTVFilterConditionType",[orderGiftsOffer,jQuery],!0)&&productsConditionsByCTVAreMet.conditionsMet&&collectionsConditionsByCTVAreMet.conditionsMet&&vendorsConditionsByCTVAreMet.conditionsMet||"anyone"==callFunctionSM("giftCTVFilterConditionType",[orderGiftsOffer,jQuery],!0)&&(productsConditionsByCTVAreMet.conditionsMet||collectionsConditionsByCTVAreMet.conditionsMet||vendorsConditionsByCTVAreMet.conditionsMet))?{allowed:!0,spendedForAllConditionalProducts:spendedForAllConditionalProducts}:{allowed:!1,spendedForAllConditionalProducts:spendedForAllConditionalProducts}):{allowed:!0,spendedForAllConditionalProducts:spendedForAllConditionalProducts}}function hasOnlyExcludedProductsCondition(arguments){return filterConditions=arguments[0],jQuery=arguments[1],onlyExcludedProductsConditions=!0,jQuery.each(filterConditions,(function(t,e){4!=parseInt(e.type)&&(onlyExcludedProductsConditions=!1)})),onlyExcludedProductsConditions}function hasOnlyExcludedProductsInCart(arguments){return cart=arguments[0],filterConditions=arguments[1],jQuery=arguments[2],hasOnlyExcludedProducts=!0,jQuery.each(cart.items,(function(t,e){cartProductIsExcluded=!1,jQuery.each(filterConditions,(function(t,r){4!=parseInt(r.type)||r.id!=e.handle||"singleton_gift"==e.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[e.product_id,jQuery],!0)||(cartProductIsExcluded=!0)})),cartProductIsExcluded||(hasOnlyExcludedProducts=!1)})),hasOnlyExcludedProducts}function excludedProductsInCartTotalPrice(arguments){return cart=arguments[0],filterConditions=arguments[1],jQuery=arguments[2],excludedProductsPrice=0,jQuery.each(cart.items,(function(t,e){jQuery.each(filterConditions,(function(t,r){4!=parseInt(r.type)||r.id!=e.handle||"singleton_gift"==e.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[e.product_id,jQuery],!0)||(excludedProductsPrice+=parseInt(e.final_line_price)/100)}))})),excludedProductsPrice}function checkCTVProductsConditions(arguments){return cart=arguments[0],filterConditions=arguments[1],checkedProducts=arguments[2],jQuery=arguments[3],productsAreInCart=!1,productsHaveConditions=!1,spendedForProducts=0,jQuery.each(filterConditions,(function(t,e){1==parseInt(e.type)&&(productsHaveConditions=!0,jQuery.each(cart.items,(function(t,r){e.id!=r.handle||"singleton_gift"==r.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[r.product_id,jQuery],!0)||callFunctionSM("productIsExcluded",[r,filterConditions,jQuery],!0)||(checkedProducts.includes(r.id)||(spendedForProducts+=parseInt(r.final_line_price)/100,checkedProducts.push(r.id)),productsAreInCart=!0)})))})),{checkedProducts:checkedProducts,conditionsMet:productsAreInCart&&productsHaveConditions||!productsHaveConditions,spended:spendedForProducts}}function checkCTVCollectionsConditions(arguments){return cart=arguments[0],filterConditions=arguments[1],checkedProducts=arguments[2],jQuery=arguments[3],collectionsProductsAreInCart=!1,collectionsHaveConditions=!1,spendedForCollections=0,jQuery.each(filterConditions,(function(t,e){2==parseInt(e.type)&&(collectionsHaveConditions=!0,jQuery.each(cart.items,(function(t,r){jQuery.each(sm_order_offers_conditions_products_ids[e.id],(function(t,e){parseInt(e)!=r.product_id||"singleton_gift"==r.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[r.product_id,jQuery],!0)||callFunctionSM("productIsExcluded",[r,filterConditions,jQuery],!0)||(checkedProducts.includes(r.id)||(spendedForCollections+=parseInt(r.final_line_price)/100,checkedProducts.push(r.id)),collectionsProductsAreInCart=!0)}))})))})),{checkedProducts:checkedProducts,conditionsMet:collectionsProductsAreInCart&&collectionsHaveConditions||!collectionsHaveConditions,spended:spendedForCollections}}function checkCTVVendorsConditions(arguments){return cart=arguments[0],filterConditions=arguments[1],checkedProducts=arguments[2],jQuery=arguments[3],vendorsAreInCart=!1,vendorsHaveConditions=!1,spendedForVendors=0,jQuery.each(filterConditions,(function(t,e){3==parseInt(e.type)&&(vendorsHaveConditions=!0,jQuery.each(cart.items,(function(t,r){e.value.replace("'","").replace('"',"")!=r.vendor||"singleton_gift"==r.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[r.product_id,jQuery],!0)||callFunctionSM("productIsExcluded",[r,filterConditions,jQuery],!0)||(checkedProducts.includes(r.id)||(spendedForVendors+=parseInt(r.final_line_price)/100,checkedProducts.push(r.id)),vendorsAreInCart=!0)})))})),{checkedProducts:checkedProducts,conditionsMet:vendorsAreInCart&&vendorsHaveConditions||!vendorsHaveConditions,spended:spendedForVendors}}function productIsExcluded(arguments){return cartItemValue=arguments[0],filterConditions=arguments[1],jQuery=arguments[2],isExcluded=!1,jQuery.each(filterConditions,(function(t,e){4!=parseInt(e.type)||e.id!=cartItemValue.handle||"singleton_gift"==cartItemValue.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[cartItemValue.product_id,jQuery],!0)||(isExcluded=!0)})),isExcluded}function getMultipleProductsGiftsOfferHTML(arguments){return cartItem=arguments[0],multipleProductsGifts=arguments[1],labeltext=arguments[2],allowAddToCart=arguments[3],isMinimalQuantityInCart=arguments[4],jQuery=arguments[5],'<div class="giftWrapper multipleProductsGiftsWrapper" '+(jQuery.isEmptyObject(cartItem.item)?0==parseInt(multipleProductsGifts.showAlwaysInGiftbox)?'style="display:none"':"":"style='border: 1px solid #00800070;background: rgb(245, 251, 244);"+(0==parseInt(multipleProductsGifts.showAlwaysInGiftbox)?"display:none":"")+"'")+' data-multiple-product-type="'+multipleProductsGifts.multipleProductsType+'" data-automatically-add-to-cart="'+callFunctionSM("getAutoAddToCartAttr",[multipleProductsGifts.automaticallyAddToCart,"multiple_products",multipleProductsGifts.id],!0)+'" data-minimal-quantity-is-in-cart="'+isMinimalQuantityInCart+'"><div class="giftAlreadyInCart" data-multiple-products-id="'+multipleProductsGifts.id+'" '+(jQuery.isEmptyObject(cartItem.item)?"style='display:none'":"")+'><span class="alreadyInCartGiftTitle">'+callFunctionSM("getTranslationLabel",["gift_already_in_cart",cartItem,jQuery],!0)+'</span><span class="removeFromCart" data-variant-id="'+cartItem.item.variant_id+'">'+callFunctionSM("getTranslationLabel",["remove_from_cart",{},jQuery],!0)+'</span></div><div class="giftsToOffer" data-multiple-products-id="'+multipleProductsGifts.id+'"'+(jQuery.isEmptyObject(cartItem.item)||callFunctionSM("getCanAddMoreGiftsFromOffer",[multipleProductsGifts.id,jQuery],!0)?"":"style='display:none'")+'><span class="productsToOfferGiftsTitle" data-multiple-products-gift-id="'+multipleProductsGifts.id+'">'+labeltext+'</span><ul class="smMultipleProductsGiftsWrapper" data-allow-add-to-cart="'+allowAddToCart+'" data-multiple-products-id="'+multipleProductsGifts.id+'"></ul>'+callFunctionSM("getValidUntilDateHtml",[multipleProductsGifts,jQuery],!0)+"</div></div>"}function getOrderGiftOfferHTML(arguments){return cartItem=arguments[0],orderGiftValue=arguments[1],labeltext=arguments[2],toSpendInPercent=arguments[3],allowAddToCart=arguments[4],jQuery=arguments[5],'<div class="giftWrapper orderGiftsWrapper" '+(jQuery.isEmptyObject(cartItem.item)?"":"style='border: 1px solid #00800070;background: rgb(245, 251, 244);'")+' data-automatically-add-to-cart="'+callFunctionSM("getAutoAddToCartAttr",[orderGiftValue.automaticallyAddToCart,"ctv",orderGiftValue.id],!0)+'"><div class="giftAlreadyInCart" data-order-id="'+orderGiftValue.id+'" '+(jQuery.isEmptyObject(cartItem.item)?"style='display:none'":"")+'><span class="alreadyInCartGiftTitle">'+callFunctionSM("getTranslationLabel",["gift_already_in_cart",cartItem,jQuery],!0)+'</span><span class="removeFromCart" data-variant-id="'+cartItem.item.variant_id+'">'+callFunctionSM("getTranslationLabel",["remove_from_cart",{},jQuery],!0)+'</span></div><div class="giftsToOffer" data-order-id="'+orderGiftValue.id+'" '+(callFunctionSM("getCanAddMoreGiftsFromOffer",[orderGiftValue.id,jQuery],!0)?"":"style='display:none'")+'><span class="orderGiftsTitle" data-order-gift-id="'+orderGiftValue.id+'"><span class="orderGiftsTitleText">'+labeltext+"</span>"+callFunctionSM("renderProgressBar",[toSpendInPercent,allowAddToCart],!0)+'</span><ul class="smOrderGiftsWrapper" data-allow-add-to-cart="'+allowAddToCart+'" data-order-id="'+orderGiftValue.id+'"></ul>'+callFunctionSM("getValidUntilDateHtml",[orderGiftValue,jQuery],!0)+"</div></div>"}function renderProgressBar(arguments){return toSpendInPercent=arguments[0],allowAddToCart=arguments[1],progressBarColor=callFunctionSM("getMaybeUndefinedObjectVariableValue",[sm_desing_settings,"progressBarColor"],!0),showProgressBar=callFunctionSM("getMaybeUndefinedObjectVariableValue",[sm_desing_settings,"showProgressBar"],!0),!1===progressBarColor||!1===showProgressBar||allowAddToCart||1!=parseInt(showProgressBar)?"":'<span class="orderGiftsTitleProgressBar" style="color:#000;background-color:#f1f1f1;border-radius:5px;-webkit-border-radius: 5px;-moz-border-radius: 5px;display: block;height: 10px;width: 85%;margin: 5px auto 1px auto;"><span style="color:#fff;background-color:'+HSVtoRGB(progressBarColor.hue,progressBarColor.saturation,progressBarColor.brightness)+";width:"+toSpendInPercent+'%;border-radius:5px;-webkit-border-radius: 5px;-moz-border-radius: 5px;display: block;height: 10px;font-size: xx-small;"></span></span>'}function copyProductGiftBoxToDetailPage(arguments){jQuery=arguments[0],"undefined"!=typeof productSMHandle&&(productID=callFunctionSM("getProductIDByHandle",[productSMHandle,jQuery],!0),productID>0&&callFunctionSM("checkIfProductGiftsBoxCanBeInDetail",[productSMHandle,jQuery],!0)&&(0==jQuery("#smProductDetailGiftMainWrapper").length&&(formObject=callFunctionSM("getFirstVisibleFormObject",[jQuery],!0),formObject.after('<div id="smProductDetailGiftMainWrapper"></div>')),jQuery("#smProductDetailGiftWrapper.productGiftWrapper").remove(),jQuery("#smProductDetailGiftMainWrapper").append('<div id="smProductDetailGiftWrapper" class="productGiftWrapper" data-sort-id="1"></div>'),"none"!=jQuery('#gift_container:eq(0) .giftAlreadyInCart[data-product-id="'+productID+'"]').css("display")&&(jQuery('#gift_container:eq(0) .giftAlreadyInCart[data-product-id="'+productID+'"]').clone().appendTo("#smProductDetailGiftWrapper.productGiftWrapper"),jQuery("#smProductDetailGiftWrapper.productGiftWrapper").addClass("alreadyInCart"),jQuery("#smProductDetailGiftWrapper.productGiftWrapper").find(".alreadyInCartGiftTitle").addClass("alreadyInCartProductTitle").removeClass("alreadyInCartGiftTitle")),"none"!=jQuery('#gift_container:eq(0) .giftsToOffer[data-product-id="'+productID+'"]').css("display")&&jQuery('#gift_container:eq(0) .giftsToOffer[data-product-id="'+productID+'"]').clone().appendTo("#smProductDetailGiftWrapper.productGiftWrapper"),0==jQuery("#smProductDetailGiftWrapper.productGiftWrapper").html().length&&jQuery("#smProductDetailGiftWrapper.productGiftWrapper").hide(),callFunctionSM("sortGiftBoxesInDetailPage",[jQuery],!0)))}function copyMultipleProductGiftBoxToDetailPage(arguments){jQuery=arguments[0],"undefined"!=typeof productSMHandle&&(jQuery(this).find(".giftAlreadyInCart").attr("data-multiple-products-id"),jQuery(".multipleProductsGiftsWrapper").each((function(){callFunctionSM("checkIfMultipleProductsGiftBoxCanBeInDetail",[jQuery(this).find(".giftAlreadyInCart").attr("data-multiple-products-id"),productSMID,productSMVendor,productSMType,jQuery],!0)&&(0==jQuery("#smProductDetailGiftMainWrapper").length&&(formObject=callFunctionSM("getFirstVisibleFormObject",[jQuery],!0),formObject.after('<div id="smProductDetailGiftMainWrapper"></div>')),jQuery("#smProductDetailGiftWrapper.smMultipleProductDetailGiftWrapper"+jQuery(this).find(".giftAlreadyInCart").attr("data-multiple-products-id")).remove(),jQuery("#smProductDetailGiftMainWrapper").append('<div id="smProductDetailGiftWrapper" class="smMultipleProductDetailGiftWrapper'+jQuery(this).find(".giftAlreadyInCart").attr("data-multiple-products-id")+'" data-sort-id="'+jQuery(this).find(".giftAlreadyInCart").attr("data-multiple-products-id")+'"></div>'),"none"!=jQuery(this).find(".giftAlreadyInCart").css("display")&&(jQuery(this).find(".giftAlreadyInCart").clone().appendTo("#smProductDetailGiftWrapper.smMultipleProductDetailGiftWrapper"+jQuery(this).find(".giftAlreadyInCart").attr("data-multiple-products-id")),jQuery("#smProductDetailGiftWrapper.smMultipleProductDetailGiftWrapper"+jQuery(this).find(".giftAlreadyInCart").attr("data-multiple-products-id")).addClass("alreadyInCart"),jQuery("#smProductDetailGiftWrapper.smMultipleProductDetailGiftWrapper"+jQuery(this).find(".giftAlreadyInCart").attr("data-multiple-products-id")).find(".alreadyInCartGiftTitle").addClass("alreadyInCartProductTitle").removeClass("alreadyInCartGiftTitle")),"none"!=jQuery(this).find(".giftsToOffer").css("display")&&jQuery(this).find(".giftsToOffer").clone().appendTo("#smProductDetailGiftWrapper.smMultipleProductDetailGiftWrapper"+jQuery(this).find(".giftAlreadyInCart").attr("data-multiple-products-id")),0==jQuery("#smProductDetailGiftWrapper.smMultipleProductDetailGiftWrapper"+jQuery(this).find(".giftAlreadyInCart").attr("data-multiple-products-id")).html().length&&jQuery("#smProductDetailGiftWrapper.smMultipleProductDetailGiftWrapper"+jQuery(this).find(".giftAlreadyInCart").attr("data-multiple-products-id")).hide(),0==jQuery("#smProductDetailGiftWrapper.smMultipleProductDetailGiftWrapper"+jQuery(this).find(".giftAlreadyInCart").attr("data-multiple-products-id")+" li").length&&"none"==jQuery(this).find(".giftAlreadyInCart").css("display")&&jQuery("#smProductDetailGiftWrapper.smMultipleProductDetailGiftWrapper"+jQuery(this).find(".giftAlreadyInCart").attr("data-multiple-products-id")).remove())})),callFunctionSM("sortGiftBoxesInDetailPage",[jQuery],!0))}function getFirstVisibleFormObject(arguments){return jQuery=arguments[0],formObjectFinded=!1,jQuery('form[action*="/cart/add"]').each((function(){!jQuery(this).is(":hidden")&&jQuery(this).is(":visible")&&jQuery(this).find('[type="submit"]').length>0&&!formObjectFinded&&(formObject=jQuery(this),formObjectFinded=!0)})),formObjectFinded?formObject:jQuery('form[action*="/cart/add"]:eq(0)')}function sortGiftBoxesInDetailPage(arguments){jQuery=arguments[0],jQuery("#smProductDetailGiftWrapper").sort((function(t,e){return parseInt(jQuery(e).attr("data-sort-id"))<parseInt(jQuery(t).attr("data-sort-id"))?1:-1})).appendTo("#smProductDetailGiftMainWrapper")}function getProductIDByHandle(arguments){return productHandle=arguments[0],jQuery=arguments[1],productID=0,jQuery.each(sm_products_gifts,(function(t,e){productHandle==e.url&&(productID=e.id)})),parseInt(productID)}function checkIfProductGiftsBoxCanBeInDetail(arguments){return productHandle=arguments[0],jQuery=arguments[1],showInProductDetail=!1,jQuery.each(sm_products_gifts,(function(t,e){productHandle==e.url&&(showInProductDetail=!0,void 0!==e.showInProductDetail&&(showInProductDetail=1==parseInt(e.showInProductDetail)))})),showInProductDetail}function checkIfMultipleProductsGiftBoxCanBeInDetail(arguments){return multipleProductsID=arguments[0],productID=arguments[1],productVendor=arguments[2],productType=arguments[3],jQuery=arguments[4],canBeInProductDetail=!1,jQuery.each(sm_multiple_products_gifts,(function(t,e){showInProductDetail=!1,void 0!==e.showInProductDetail&&(showInProductDetail=1==parseInt(e.showInProductDetail)),parseInt(e.id)==parseInt(multipleProductsID)&&showInProductDetail&&(1==parseInt(e.multipleProductsType)?jQuery.each(e.multipleValues,(function(t,e){jQuery.each(sm_collections_products_ids[e.id],(function(t,e){parseInt(e)==parseInt(productID)&&(canBeInProductDetail=!0)}))})):2==parseInt(e.multipleProductsType)?jQuery.each(e.multipleValues,(function(t,e){e.value.replace("'","").replace('"',"")==productVendor&&(canBeInProductDetail=!0)})):4==parseInt(e.multipleProductsType)?jQuery.each(e.multipleValues,(function(t,e){e.value.replace("'","").replace('"',"")==productType&&(canBeInProductDetail=!0)})):5==parseInt(e.multipleProductsType)&&jQuery.each(e.multipleValues,(function(t,e){parseInt(e.id)==parseInt(productID)&&(canBeInProductDetail=!0)})))})),canBeInProductDetail}function checkMultipleProductQuantityInCart(arguments){return cart=arguments[0],multipleProductsGifts=arguments[1],jQuery=arguments[2],quantityInCartByType={individual:0,total:0},1==parseInt(multipleProductsGifts.multipleProductsType)?quantityInCartByType=callFunctionSM("checkCollectionsProductsCountInCart",[cart,multipleProductsGifts.multipleValues,jQuery],!0):2==parseInt(multipleProductsGifts.multipleProductsType)?quantityInCartByType=callFunctionSM("checkVendorProductsCountInCart",[cart,multipleProductsGifts.multipleValues,jQuery],!0):4==parseInt(multipleProductsGifts.multipleProductsType)?quantityInCartByType=callFunctionSM("checkProductsCountInCartByType",[cart,multipleProductsGifts.multipleValues,jQuery],!0):5==parseInt(multipleProductsGifts.multipleProductsType)&&(quantityInCartByType=callFunctionSM("checkProductsCountInCartByProduct",[cart,multipleProductsGifts.multipleValues,jQuery],!0)),quantityInCartSelectedType="individual",void 0!==multipleProductsGifts.minimalQuantityType&&(quantityInCartSelectedType=multipleProductsGifts.minimalQuantityType),quantityInCartByType[quantityInCartSelectedType]}function checkCollectionsProductsCountInCart(arguments){return cart=arguments[0],collections=arguments[1],jQuery=arguments[2],collectionsIndividualProductsInCart=0,collectionsProductsTotalCountInCart=0,jQuery.each(cart.items,(function(t,e){jQuery.each(collections,(function(t,r){jQuery.each(sm_collections_products_ids[r.id],(function(t,r){parseInt(r)!=e.product_id||"singleton_gift"==e.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[e.product_id,jQuery],!0)||(collectionsIndividualProductsInCart++,collectionsProductsTotalCountInCart+=parseInt(e.quantity))}))}))})),{individual:collectionsIndividualProductsInCart,total:collectionsProductsTotalCountInCart}}function checkVendorProductsCountInCart(arguments){return cart=arguments[0],vendors=arguments[1],jQuery=arguments[2],vendorsIndividualProductsInCart=0,vendorsProductsTotalCountInCart=0,jQuery.each(cart.items,(function(t,e){jQuery.each(vendors,(function(t,r){r.value!=e.vendor||"singleton_gift"==e.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[e.product_id,jQuery],!0)||(vendorsIndividualProductsInCart++,vendorsProductsTotalCountInCart+=parseInt(e.quantity))}))})),{individual:vendorsIndividualProductsInCart,total:vendorsProductsTotalCountInCart}}function checkProductsCountInCartByType(arguments){return cart=arguments[0],types=arguments[1],jQuery=arguments[2],individualProductsInCartByType=0,productsTotalCountInCartByType=0,jQuery.each(cart.items,(function(t,e){jQuery.each(types,(function(t,r){r.value!=e.product_type||"singleton_gift"==e.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[e.product_id,jQuery],!0)||(individualProductsInCartByType++,productsTotalCountInCartByType+=parseInt(e.quantity))}))})),{individual:individualProductsInCartByType,total:productsTotalCountInCartByType}}function checkProductsCountInCartByProduct(arguments){return cart=arguments[0],products=arguments[1],jQuery=arguments[2],individualProductsInCartByType=0,productsTotalCountInCartByType=0,jQuery.each(cart.items,(function(t,e){jQuery.each(products,(function(t,r){jQuery.each(r.variants,(function(t,r){r.id!=e.variant_id||"singleton_gift"==e.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[e.product_id,jQuery],!0)||(individualProductsInCartByType++,productsTotalCountInCartByType+=parseInt(e.quantity))}))}))})),{individual:individualProductsInCartByType,total:productsTotalCountInCartByType}}function checkIfGiftCanBeInCartByCollection(arguments){return cart=arguments[0],collections=arguments[1],jQuery=arguments[2],collectionsProductIsInCart=!1,jQuery.each(cart.items,(function(t,e){jQuery.each(collections,(function(t,r){jQuery.each(sm_collections_products_ids[r.id],(function(t,r){parseInt(r)!=e.product_id||"singleton_gift"==e.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[e.product_id,jQuery],!0)||(collectionsProductIsInCart=!0)}))}))})),collectionsProductIsInCart}function checkIfGiftCanBeInCartByVendor(arguments){return cart=arguments[0],vendors=arguments[1],jQuery=arguments[2],vendorIsInCart=!1,jQuery.each(cart.items,(function(t,e){jQuery.each(vendors,(function(t,r){r.value!=e.vendor||"singleton_gift"==e.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[e.product_id,jQuery],!0)||(vendorIsInCart=!0)}))})),vendorIsInCart}function checkIfGiftCanBeInCartByType(arguments){return cart=arguments[0],types=arguments[1],jQuery=arguments[2],typesAreInCart=!1,jQuery.each(cart.items,(function(t,e){jQuery.each(types,(function(t,r){r.value!=e.product_type||"singleton_gift"==e.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[e.product_id,jQuery],!0)||(typesAreInCart=!0)}))})),typesAreInCart}function checkIfGiftCanBeInCartByProduct(arguments){return cart=arguments[0],products=arguments[1],jQuery=arguments[2],productsVariantsAreInCart=!1,jQuery.each(cart.items,(function(t,e){jQuery.each(products,(function(t,r){jQuery.each(r.variants,(function(t,r){r.id!=e.variant_id||"singleton_gift"==e.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[e.product_id,jQuery],!0)||(productsVariantsAreInCart=!0)}))}))})),productsVariantsAreInCart}function getMultipleProductsValuesList(arguments){return multipleProductsType=arguments[0],multipleValues=arguments[1],jQuery=arguments[2],multipleValuesList=[],multipleValueVariants="",jQuery.each(multipleValues,(function(t,e){5==parseInt(multipleProductsType)&&(multipleValueVariantsList=[],jQuery.each(e.variants,(function(t,e){multipleValueVariantsList.push(e.title)})),multipleValueVariantsList.length>0&&(multipleValueVariants=" ("+multipleValueVariantsList.join(",")+")")),multipleValuesList.push(e.value+multipleValueVariants)})),multipleValuesList.join(",")}function checkForOpenGiftBox(arguments){jQuery=arguments[0],"none"==jQuery("#gift_container .giftContainerContent").css("display")&&jQuery(".giftWrapper").length>0&&0==parseInt(sm_desing_settings.hideGiftBox)&&("always"==sm_pro_version_settings.auto_gift_box_open_value?(jQuery("#gift_container .giftContainerContent").show(),jQuery("#sticky_gift_icon .showGifts").hide(),jQuery("#sticky_gift_icon .hideGifts").show()):"in_cart"==sm_pro_version_settings.auto_gift_box_open_value?sm_is_cart_page&&(jQuery("#gift_container .giftContainerContent").show(),jQuery("#sticky_gift_icon .showGifts").hide(),jQuery("#sticky_gift_icon .hideGifts").show()):"if_reach_threshold"==sm_pro_version_settings.auto_gift_box_open_value?(someAddToCartButtonFounded=!1,jQuery(".smAddGiftToCart").length>0&&jQuery(".smAddGiftToCart").each((function(){"none"!=jQuery(this).parents(".item-add-to-cart:eq(0)").css("display")&&"none"!=jQuery(this).parents(".giftsToOffer:eq(0)").css("display")&&(someAddToCartButtonFounded=!0)})),someAddToCartButtonFounded&&(jQuery("#gift_container .giftContainerContent").show(),jQuery("#sticky_gift_icon .showGifts").hide(),jQuery("#sticky_gift_icon .hideGifts").show())):"if_reach_threshold_first_time"==sm_pro_version_settings.auto_gift_box_open_value&&(someAddToCartButtonFounded=!1,orderIDs=[],productIDs=[],multipleProductIDs=[],jQuery(".smAddGiftToCart").length>0&&jQuery(".smAddGiftToCart").each((function(){"none"!=jQuery(this).parents(".item-add-to-cart:eq(0)").css("display")&&"none"!=jQuery(this).parents(".giftsToOffer:eq(0)").css("display")&&(someAddToCartButtonFounded=!0,jQuery(this).parents(".giftWrapper:eq(0)").hasClass("orderGiftsWrapper")&&(orderIDs.includes(jQuery(this).parents(".giftsToOffer:eq(0)").attr("data-order-id"))||orderIDs.push(jQuery(this).parents(".giftsToOffer:eq(0)").attr("data-order-id"))),jQuery(this).parents(".giftWrapper:eq(0)").hasClass("productsToOfferGiftsWrapper")&&(productIDs.includes(jQuery(this).parents(".giftsToOffer:eq(0)").attr("data-product-id"))||productIDs.push(jQuery(this).parents(".giftsToOffer:eq(0)").attr("data-product-id"))),jQuery(this).parents(".giftWrapper:eq(0)").hasClass("multipleProductsGiftsWrapper")&&(multipleProductIDs.includes(jQuery(this).parents(".giftsToOffer:eq(0)").attr("data-multiple-products-id"))||multipleProductIDs.push(jQuery(this).parents(".giftsToOffer:eq(0)").attr("data-multiple-products-id"))))})),someAddToCartButtonFounded&&(callFunctionSM("checkCookiesForAutomaticallyGiftBoxPopup",[orderIDs,"orders"],!0)||callFunctionSM("checkCookiesForAutomaticallyGiftBoxPopup",[productIDs,"products"],!0)||callFunctionSM("checkCookiesForAutomaticallyGiftBoxPopup",[multipleProductIDs,"multiple_products"],!0))&&(jQuery("#gift_container .giftContainerContent").show(),jQuery("#sticky_gift_icon .showGifts").hide(),jQuery("#sticky_gift_icon .hideGifts").show())))}function checkCookiesForAutomaticallyGiftBoxPopup(arguments){if(ids=arguments[0],name=arguments[1],allowToPopupGiftBox=!1,ids.length>0)if(0==callFunctionSM("smGetCookie",[name],!0).length)callFunctionSM("smSetCookie",[name,ids,1],!1),allowToPopupGiftBox=!0;else{idsInCookie=callFunctionSM("smGetCookie",[name],!0).split(",");for(let t=0;t<ids.length;t++)idsInCookie.includes(ids[t])||(idsInCookie.push(ids[t]),allowToPopupGiftBox=!0);allowToPopupGiftBox&&callFunctionSM("smSetCookie",[name,idsInCookie,1],!1)}return allowToPopupGiftBox}function checkIfGiftFromSectionIsInCart(arguments){return cart=arguments[0],gifts=arguments[1],giftsOfferID=arguments[2],jQuery=arguments[3],callFunctionSM("getCanAddMoreGiftsFromOffer",[giftsOfferID,jQuery],!0)?{item:{},hasMoreGifts:gifts.length>1}:(cartItem={},jQuery.each(cart.items,(function(t,e){jQuery.each(gifts,(function(t,r){r.id_gift==e.product_id&&(cartItem=e)}))})),{item:cartItem,hasMoreGifts:gifts.length>1})}function checkProductQuantityInCartByID(arguments){return cart=arguments[0],productID=arguments[1],jQuery=arguments[2],productQuantity=0,jQuery.each(cart.items,(function(t,e){parseInt(productID)==parseInt(e.product_id)&&(productQuantity+=e.quantity)})),productQuantity}function getProductVariantInCartByID(arguments){return cart=arguments[0],productID=arguments[1],jQuery=arguments[2],variantID=0,variantTitle="",jQuery.each(cart.items,(function(t,e){parseInt(productID)==parseInt(e.product_id)&&(variantID=e.variant_id,variantTitle=e.title)})),{id:variantID,title:variantTitle}}function checkIfGiftsCanBeInCart(arguments){cart=arguments[0],jQuery=arguments[1],giftsToUpdate=[],jQuery.each(cart.items,(function(t,e){("singleton_gift"==e.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[e.product_id,jQuery],!0))&&(removeFromCart=!0,jQuery.each(sm_products_gifts,(function(t,r){callFunctionSM("giftCanBeDisplayed",[r,jQuery],!0)&&(minimumProductsCount=1,void 0!==r.minimumProductsCount&&(minimumProductsCount=parseInt(r.minimumProductsCount)),productQuantity=callFunctionSM("checkProductQuantityInCartByID",[cart,r.id,jQuery],!0),productQuantity>=minimumProductsCount&&jQuery.each(r.gifts,(function(i,a){parseInt(e.product_id)==parseInt(a.id_gift)&&jQuery.each(cart.items,(function(i,a){parseInt(a.product_id)==parseInt(t)&&(callFunctionSM("offerHasMoreGiftsInCart",[e,cart.items,r.gifts,r.id,jQuery],!0)||(removeFromCart=!1))}))})))})),jQuery.each(sm_orders_gifts,(function(t,r){cartTotalValuesCondition=callFunctionSM("getCartTotalValuesCondition",[cart,r,jQuery],!0),callFunctionSM("giftCanBeDisplayed",[r,jQuery],!0)&&cartTotalValuesCondition.allowed&&(isSpendedOrderMinimum=r.order_minimum<=parseInt(cart.total_price)/100,callFunctionSM("giftCTVFilterConditions",[r,jQuery],!0).length>0&&(isSpendedOrderMinimum=r.order_minimum<=cartTotalValuesCondition.spendedForAllConditionalProducts),jQuery.each(r.gifts,(function(t,i){parseInt(e.product_id)==parseInt(i.id_gift)&&isSpendedOrderMinimum&&(jQuery('.smOrderGiftsWrapper[data-allow-add-to-cart="1"][data-order-id="'+r.id+'"]').length>0&&!callFunctionSM("checkIfCanCumulatedOrderGifts",[jQuery],!0)||callFunctionSM("checkIfCanCumulatedOrderGifts",[jQuery],!0))&&(callFunctionSM("offerHasMoreGiftsInCart",[e,cart.items,r.gifts,r.id,jQuery],!0)||(removeFromCart=!1))})))})),jQuery.each(sm_multiple_products_gifts,(function(t,r){productMinimalQuantity=callFunctionSM("getProductMinimalQuantityForMultipleProducts",[r,jQuery],!0),productInCartQuantity=callFunctionSM("checkMultipleProductQuantityInCart",[cart,r,jQuery],!0),callFunctionSM("giftCanBeDisplayed",[r,jQuery],!0)&&productInCartQuantity>=productMinimalQuantity&&(1==parseInt(r.multipleProductsType)?jQuery.each(r.gifts,(function(t,i){parseInt(e.product_id)==parseInt(i.id_gift)&&callFunctionSM("checkIfGiftCanBeInCartByCollection",[cart,r.multipleValues,jQuery],!0)&&(callFunctionSM("offerHasMoreGiftsInCart",[e,cart.items,r.gifts,r.id,jQuery],!0)||(removeFromCart=!1))})):2==parseInt(r.multipleProductsType)?jQuery.each(r.gifts,(function(t,i){parseInt(e.product_id)==parseInt(i.id_gift)&&callFunctionSM("checkIfGiftCanBeInCartByVendor",[cart,r.multipleValues,jQuery],!0)&&(callFunctionSM("offerHasMoreGiftsInCart",[e,cart.items,r.gifts,r.id,jQuery],!0)||(removeFromCart=!1))})):4==parseInt(r.multipleProductsType)?jQuery.each(r.gifts,(function(t,i){parseInt(e.product_id)==parseInt(i.id_gift)&&callFunctionSM("checkIfGiftCanBeInCartByType",[cart,r.multipleValues,jQuery],!0)&&(callFunctionSM("offerHasMoreGiftsInCart",[e,cart.items,r.gifts,r.id,jQuery],!0)||(removeFromCart=!1))})):5==parseInt(r.multipleProductsType)&&jQuery.each(r.gifts,(function(t,i){parseInt(e.product_id)==parseInt(i.id_gift)&&callFunctionSM("checkIfGiftCanBeInCartByProduct",[cart,r.multipleValues,jQuery],!0)&&(callFunctionSM("offerHasMoreGiftsInCart",[e,cart.items,r.gifts,r.id,jQuery],!0)||(removeFromCart=!1))})))})),removeFromCart?giftsToUpdate.push("updates["+e.variant_id+"]=0"):(baseProductQuantity=0,copyFromBaseProductQuantity=!1,jQuery.each(callFunctionSM("getGiftsBaseProductIDs",[e.product_id,sm_products_gifts,jQuery],!0),(function(t,e){baseProductQuantityInCartByID=callFunctionSM("checkProductQuantityInCartByID",[cart,e,jQuery],!0),baseProductQuantity+=parseInt(baseProductQuantityInCartByID),callFunctionSM("canCopyFromBaseProductQuantity",[e],!0)&&(copyFromBaseProductQuantity=!0)})),copyFromBaseProductQuantity?parseInt(baseProductQuantity)!=parseInt(e.quantity)&&giftsToUpdate.push("updates["+e.variant_id+"]="+baseProductQuantity):parseInt(e.quantity)>1&&!callFunctionSM("allowToChangeGiftQuantity",[jQuery],!0)&&giftsToUpdate.push("updates["+e.variant_id+"]=1")))})),callFunctionSM("updateGiftsInBulk",[giftsToUpdate,jQuery],!1),callFunctionSM("disableGiftQuantityFieldInCart",[cart,jQuery],!1)}function updateGiftsInBulk(arguments){giftsToUpdate=arguments[0],jQuery=arguments[1],giftsToUpdate.length>0&&(callFunctionSM("displayOverlay",[!0,jQuery],!1),jQuery.ajax({type:"POST",url:"/cart/update.js",dataType:"json",data:giftsToUpdate.join("&")+"&sm_gift=1"}).always((function(t,e){callFunctionSM("refreshGiftBox",[!1,jQuery],!1),callFunctionSM("refreshThirdPartyApps",[jQuery,!1],!1),callFunctionSM("displayOverlay",[!1,jQuery],!1),sm_is_cart_page&&location.reload()})))}function disableGiftQuantityFieldInCart(arguments){cart=arguments[0],jQuery=arguments[1],jQuery.each(cart.items,(function(t,e){("singleton_gift"==e.product_type||callFunctionSM("checkIfProductIsGiftByProductID",[e.product_id,jQuery],!0))&&jQuery('input[name="updates[]"]').each((function(){quantityAttribute=jQuery(this).attr(sm_quantity_selector_attr),"undefined"!=typeof quantityAttribute&&!1!==quantityAttribute&&-1!==quantityAttribute.indexOf(e.variant_id)&&0==e.price&&(callFunctionSM("allowToChangeGiftQuantity",[jQuery],!0)||(jQuery(this).on("change keyup paste",(function(){jQuery(this).val(1)})),jQuery(this).siblings("button").css("visibility","hidden"),jQuery(this).val(1),jQuery(this).attr("type","text"),jQuery(this).siblings().each((function(){buttonsAttribute=jQuery(this).attr("data-qty"),"undefined"!=typeof buttonsAttribute&&!1!==buttonsAttribute&&-1!==buttonsAttribute&&jQuery(this).css("visibility","hidden")})))),jQuery(this).parents(".cart-item").length>0&&(cartItemClassObject=jQuery(this).parents(".cart-item"),cartItemClassObject.find('cart-remove-button a[href^="/cart/change?id='+e.id+'"]').length&&0==e.price&&!callFunctionSM("allowToChangeGiftQuantity",[jQuery],!0)&&cartItemClassObject.find("quantity-input input").length>0&&(cartItemClassObject.find("quantity-input input").attr("type","text"),cartItemClassObject.find("quantity-input input").on("change keyup paste",(function(){jQuery(this).val(1)})),cartItemClassObject.find("quantity-input input").siblings("button").css("visibility","hidden")))}))}))}function allowToChangeGiftQuantity(arguments){return jQuery=arguments[0],void 0!==sm_desing_settings.canChangeGiftsQuantity&&1==parseInt(sm_desing_settings.canChangeGiftsQuantity)}function offerHasMoreGiftsInCart(arguments){return cartItemValue=arguments[0],cartItems=arguments[1],giftsFromOffer=arguments[2],giftsOfferID=arguments[3],jQuery=arguments[4],giftsFromOfferCount=0,selectedGiftInCartCount=0,jQuery.each(giftsFromOffer,(function(t,e){jQuery.each(cartItems,(function(t,r){parseInt(r.product_id)==parseInt(e.id_gift)&&(parseInt(cartItemValue.product_id)==parseInt(e.id_gift)&&selectedGiftInCartCount++,giftsFromOfferCount++)}))})),callFunctionSM("getCanAddMoreGiftsFromOffer",[giftsOfferID,jQuery],!0)?selectedGiftInCartCount>1:giftsFromOfferCount>1}function checkIfProductIsGiftByProductID(arguments){return productID=arguments[0],jQuery=arguments[1],isGift=!1,jQuery.each(sm_orders_gifts,(function(t,e){jQuery.each(e.gifts,(function(t,e){e.id_gift==productID&&(isGift=!0)}))})),jQuery.each(sm_products_gifts,(function(t,e){jQuery.each(e.gifts,(function(t,e){e.id_gift==productID&&(isGift=!0)}))})),jQuery.each(sm_multiple_products_gifts,(function(t,e){jQuery.each(e.gifts,(function(t,e){e.id_gift==productID&&(isGift=!0)}))})),isGift}function recalculateCartTotalValueBySelectedCurrency(arguments){jQuery=arguments[0],"undefined"!=typeof Shopify&&void 0!==Shopify.currency&&void 0!==Shopify.currency.rate&&1==parseInt(sm_pro_version_settings.adapt_to_currency)&&(sm_money_format=sm_money_with_currency_format.replace(/<[^>]+>/g,""),jQuery.each(sm_orders_gifts,(function(t,e){sm_orders_gifts[t].order_minimum=parseFloat(sm_orders_gifts[t].order_minimum)*Shopify.currency.rate})))}function giftCanBeDisplayed(arguments){return object=arguments[0],jQuery=arguments[1],showBaseOnDate=!0,null!=object.startDate&&null!=object.endDate&&(showBaseOnDate=!1,now=new Date,start=new Date(object.startDate),start.setHours(0,0,0,0),end=new Date(object.endDate),end.setHours(23,59,59,999),start.getTime()<now.getTime()&&end.getTime()>now.getTime()&&(showBaseOnDate=!0)),showBaseOnDate}function addMultipleProductsToGiftBox(arguments){product=arguments[0],jQuery=arguments[1],callFunctionSM("checkIfGiftOrVariantIsAvailable",[product.available],!0)&&(smProductVariants="",product.variants.length>0&&(hasMoreVariatns="Default Title"!=product.variants[0].title&&"Default"!=product.variants[0].title,smProductVariants+='<select name="'+product.id+'" class="smProductVariants" '+(hasMoreVariatns?"":'style="display:none"')+">",jQuery.each(product.variants,(function(t,e){callFunctionSM("checkIfGiftOrVariantIsAvailable",[e.available],!0)&&(smProductVariants+='<option value="'+e.id+'" data-old-price="'+(null==e.compare_at_price?0:e.compare_at_price)+'">'+e.title+"</option>")})),smProductVariants+="</select>"),productOfGiftsIDs=callFunctionSM("getGiftsBaseProductIDs",[product.id,sm_multiple_products_gifts,jQuery],!0),isOwnGift=callFunctionSM("isOwnGiftByProductID",[product.id,jQuery],!0),jQuery.each(productOfGiftsIDs,(function(t,e){0==jQuery('#gift_container ul[data-multiple-products-id="'+e+'"] .smMultipleProductsGift[data-gift-id="'+product.id+'"]').length&&(productImageSrc=jQuery(".smNoImage").attr("src"),void 0!==product.images&&void 0!==product.images[0]&&(productImageSrc=product.images[0]),isGiftInCart=callFunctionSM("checkProductQuantityInCartByID",[cart,product.id,jQuery],!0),giftVariantInCart=callFunctionSM("getProductVariantInCartByID",[cart,product.id,jQuery],!0),productLine=callFunctionSM("getGiftProductLine",["",isGiftInCart>0,product,productImageSrc,isOwnGift,smProductVariants,giftVariantInCart,"smMultipleProductsGift",jQuery],!0),jQuery('#gift_container ul[data-multiple-products-id="'+e+'"]').append(productLine),0!=parseInt(jQuery('#gift_container ul[data-multiple-products-id="'+e+'"] .smMultipleProductsGift[data-gift-id="'+product.id+'"]').parents("ul:eq(0)").attr("data-allow-add-to-cart"))&&0!=parseInt(jQuery('#gift_container ul[data-multiple-products-id="'+e+'"]').parents(".multipleProductsGiftsWrapper").attr("data-minimal-quantity-is-in-cart"))||(jQuery('#gift_container ul[data-multiple-products-id="'+e+'"] .smMultipleProductsGift[data-gift-id="'+product.id+'"] .item-variants').hide(),jQuery('#gift_container ul[data-multiple-products-id="'+e+'"] .smMultipleProductsGift[data-gift-id="'+product.id+'"] .item-add-to-cart').hide()))})))}function addOrderGiftToGiftBox(arguments){cart=arguments[0],product=arguments[1],jQuery=arguments[2],callFunctionSM("checkIfGiftOrVariantIsAvailable",[product.available],!0)&&(smProductVariants="",product.variants.length>0&&(hasMoreVariatns="Default Title"!=product.variants[0].title&&"Default"!=product.variants[0].title,smProductVariants+='<select name="'+product.id+'" class="smProductVariants" '+(hasMoreVariatns?"":'style="display:none"')+">",jQuery.each(product.variants,(function(t,e){callFunctionSM("checkIfGiftOrVariantIsAvailable",[e.available],!0)&&(smProductVariants+='<option value="'+e.id+'" data-old-price="'+(null==e.compare_at_price?0:e.compare_at_price)+'">'+e.title+"</option>")})),smProductVariants+="</select>"),productOfGiftsIDs=callFunctionSM("getGiftsBaseProductIDs",[product.id,sm_orders_gifts,jQuery],!0),isOwnGift=callFunctionSM("isOwnGiftByProductID",[product.id,jQuery],!0),jQuery.each(productOfGiftsIDs,(function(t,e){0==jQuery('#gift_container ul[data-order-id="'+e+'"] .smOrderGift[data-gift-id="'+product.id+'"]').length&&(productImageSrc=jQuery(".smNoImage").attr("src"),void 0!==product.images&&void 0!==product.images[0]&&(productImageSrc=product.images[0]),isGiftInCart=callFunctionSM("checkProductQuantityInCartByID",[cart,product.id,jQuery],!0),giftVariantInCart=callFunctionSM("getProductVariantInCartByID",[cart,product.id,jQuery],!0),productLine=callFunctionSM("getGiftProductLine",["",isGiftInCart>0,product,productImageSrc,isOwnGift,smProductVariants,giftVariantInCart,"smOrderGift",jQuery],!0),jQuery('#gift_container ul[data-order-id="'+e+'"]').append(productLine),0==parseInt(jQuery('#gift_container ul[data-order-id="'+e+'"] .smOrderGift[data-gift-id="'+product.id+'"]').parents("ul:eq(0)").attr("data-allow-add-to-cart"))&&(jQuery('#gift_container ul[data-order-id="'+e+'"] .smOrderGift[data-gift-id="'+product.id+'"] .item-variants').remove(),jQuery('#gift_container ul[data-order-id="'+e+'"] .smOrderGift[data-gift-id="'+product.id+'"] .item-add-to-cart').remove()))})))}function addProductGiftToGiftBox(arguments){product=arguments[0],cart=arguments[1],jQuery=arguments[2],callFunctionSM("checkIfGiftOrVariantIsAvailable",[product.available],!0)&&(smProductVariants="",product.variants.length>0&&(hasMoreVariatns="Default Title"!=product.variants[0].title&&"Default"!=product.variants[0].title,smProductVariants+='<select name="'+product.id+'" class="smProductVariants" '+(hasMoreVariatns?"":'style="display:none"')+">",jQuery.each(product.variants,(function(t,e){callFunctionSM("checkIfGiftOrVariantIsAvailable",[e.available],!0)&&(smProductVariants+='<option value="'+e.id+'" data-old-price="'+(null==e.compare_at_price?0:e.compare_at_price)+'">'+e.title+"</option>")})),smProductVariants+="</select>"),productOfGiftsIDs=callFunctionSM("getGiftsBaseProductIDs",[product.id,sm_products_gifts,jQuery],!0),isOwnGift=callFunctionSM("isOwnGiftByProductID",[product.id,jQuery],!0),jQuery.each(productOfGiftsIDs,(function(t,e){0==jQuery('#gift_container ul[data-product-id="'+e+'"] .smProductGift[data-gift-id="'+product.id+'"]').length&&(isGiftInCart=callFunctionSM("checkProductQuantityInCartByID",[cart,product.id,jQuery],!0),giftVariantInCart=callFunctionSM("getProductVariantInCartByID",[cart,product.id,jQuery],!0),productQuantity=callFunctionSM("checkProductQuantityInCartByID",[cart,e,jQuery],!0),productMinimalQuantity=callFunctionSM("getProductMinimalQuantity",[e,jQuery],!0),productImageSrc=jQuery(".smNoImage").attr("src"),void 0!==product.images&&void 0!==product.images[0]&&(productImageSrc=product.images[0]),productLine=callFunctionSM("getGiftProductLine",[productQuantity,isGiftInCart>0,product,productImageSrc,isOwnGift,smProductVariants,giftVariantInCart,"smProductGift",jQuery],!0),jQuery('#gift_container ul[data-product-id="'+e+'"]').append(productLine),(0==parseInt(jQuery('#gift_container ul[data-product-id="'+e+'"] .smProductGift[data-gift-id="'+product.id+'"]').parents("ul:eq(0)").attr("data-allow-add-to-cart"))||productQuantity<productMinimalQuantity)&&(jQuery('#gift_container ul[data-product-id="'+e+'"] .smProductGift[data-gift-id="'+product.id+'"] .item-variants').remove(),jQuery('#gift_container ul[data-product-id="'+e+'"] .smProductGift[data-gift-id="'+product.id+'"] .item-add-to-cart').remove()))})))}function getGiftProductLine(arguments){return productQuantity=arguments[0],isGiftInCart=arguments[1],product=arguments[2],productImageSrc=arguments[3],isOwnGift=arguments[4],smProductVariants=arguments[5],giftVariantInCart=arguments[6],productLineClassName=arguments[7],jQuery=arguments[8],'<li class="clearfix '+productLineClassName+" "+productQuantity+" "+(isGiftInCart?"isInCart":"")+'" data-is-in-cart="'+(isGiftInCart?1:0)+'" data-gift-id="'+product.id+'" '+(isGiftInCart?'style="padding: 10px 15px;"':"")+'><div class="smProductGiftLineInCart giftLineAlreadyInCart" style="display:'+(isGiftInCart?"block":"none")+';padding: 5px;overflow:hidden;border: 1px solid #00800070;background: rgb(245, 251, 244);border-radius:5xp;-webkit-border-radius:5px;-moz-border-radius:5px"><img style="margin-right: 5px;" src="'+productImageSrc+'" alt="'+giftVariantInCart.title+'"/><div class="alreadyInCartGiftTitle">'+callFunctionSM("getTranslationLabel",["gift_already_in_cart",{item:{url:product.url,title:giftVariantInCart.title}},jQuery],!0)+'</div><div class="removeFromCart" data-variant-id="'+giftVariantInCart.id+'">'+callFunctionSM("getTranslationLabel",["remove_from_cart",{},jQuery],!0)+'</div></div><div class="smProductGiftLine" style="display: '+(isGiftInCart?"none":"block")+'"><img src="'+productImageSrc+'" alt="'+product.title+'" /><div class="smItems"><span class="item-name"><a href="'+(isOwnGift?"javascript:void(0)":callFunctionSM("getProuctUrl",[product.url],!0))+'">'+product.title+'</a></span><span class="item-original-price" style="text-decoration: line-through;font-size: 10px;white-space: nowrap;color: gray;display: block;">'+callFunctionSM("getGiftOldPrice",[product.compare_at_price,jQuery],!0)+'</span><span class="item-variants">'+smProductVariants+'</span><span class="item-add-to-cart"><button class="smAddGiftToCart">'+callFunctionSM("getTranslationLabel",["add_to_cart",{},jQuery],!0)+"</button></span></div></div></li>"}function getGiftOldPrice(arguments){return compareAtPrice=arguments[0],jQuery=arguments[1],compareAtPrice>0&&null!=compareAtPrice&&1===parseInt(callFunctionSM("getMaybeUndefinedObjectVariableValue",[sm_desing_settings,"showGiftOldPriceInGiftBox"],!0))?""!=typeof sm_money_format?(moneyFormatFromConfig=callFunctionSM("getMoneyFormatFromConfig",[],!0),Shopify.formatMoney(compareAtPrice,moneyFormatFromConfig)):"undefined"!=typeof Shopify&&void 0!==Shopify.money_format?Shopify.formatMoney(compareAtPrice,Shopify.money_format):"":""}function changeGiftVariantPrice(arguments){giftObject=arguments[0],jQuery=arguments[1],giftOldPrice=giftObject.find('option[value="'+giftObject.val()+'"]').attr("data-old-price"),giftObject.parents(".smItems:eq(0)").find(".item-original-price").html(callFunctionSM("getGiftOldPrice",[giftOldPrice,jQuery],!0))}function checkIfGiftOrVariantIsAvailable(arguments){return giftOrVariantIsAvailable=arguments[0],void 0===sm_desing_settings.disableUnavailableGifts||(0==parseInt(sm_desing_settings.disableUnavailableGifts)||1==parseInt(sm_desing_settings.disableUnavailableGifts)&&giftOrVariantIsAvailable)}function searchForGiftProducts(arguments){cart=arguments[0],jQuery=arguments[1],productsToFind=[],alreadyFindedProducts=[],productsGiftsToFind=[],alreadyFindedProductsGifts=[],jQuery("a[href]").each((function(){href=jQuery(this).attr("href"),-1!==href.indexOf("products/")&&-1===href.indexOf("/all-products/")&&(productHandle=callFunctionSM("getProductHandle",[jQuery,href],!0),jQuery.each(sm_products_gifts,(function(t,e){alreadyFindedProducts.indexOf(productHandle)>-1||checkImg(productHandle)||callFunctionSM("checkIfContainNotAllowedSubstrings",[href],!0)||productHandle!=e.url&&productHandle!=encodeURI(e.url)||("undefined"!=typeof productSMHandle?productSMHandle!=productHandle&&productsToFind.push(e.url):productsToFind.push(e.url),alreadyFindedProducts.push(productHandle)),alreadyFindedProductsGifts.indexOf(productHandle)>-1||checkImg(productHandle)||jQuery.each(e.gifts,(function(t,e){productHandle!=e.url&&productHandle!=encodeURI(e.url)||("undefined"!=typeof productSMHandle?productSMHandle!=productHandle&&productsGiftsToFind.push({originalHandle:e.original_url,giftHandle:e.url}):productsGiftsToFind.push({originalHandle:e.original_url,giftHandle:e.url}),alreadyFindedProductsGifts.push(productHandle))}))})),jQuery.each(sm_orders_gifts,(function(t,e){alreadyFindedProducts.indexOf(productHandle)>-1||checkImg(productHandle)||productHandle!=e.url&&productHandle!=encodeURI(e.url)||("undefined"!=typeof productSMHandle?productSMHandle!=productHandle&&productsToFind.push(e.url):productsToFind.push(e.url),alreadyFindedProducts.push(productHandle)),alreadyFindedProductsGifts.indexOf(productHandle)>-1||checkImg(productHandle)||jQuery.each(e.gifts,(function(t,e){productHandle!=e.url&&productHandle!=encodeURI(e.url)||("undefined"!=typeof productSMHandle?productSMHandle!=productHandle&&productsGiftsToFind.push({originalHandle:e.original_url,giftHandle:e.url}):productsGiftsToFind.push({originalHandle:e.original_url,giftHandle:e.url}),alreadyFindedProductsGifts.push(productHandle))}))})),showGiftIconForMultiplesProducts=!1,jQuery.each(sm_multiple_products_gifts,(function(t,e){1==parseInt(e.showInProductDetail)&&(showGiftIconForMultiplesProducts=!0),alreadyFindedProductsGifts.indexOf(productHandle)>-1||checkImg(productHandle)||jQuery.each(e.gifts,(function(t,e){productHandle!=e.url&&productHandle!=encodeURI(e.url)||("undefined"!=typeof productSMHandle?productSMHandle!=productHandle&&productsGiftsToFind.push({originalHandle:e.original_url,giftHandle:e.url}):productsGiftsToFind.push({originalHandle:e.original_url,giftHandle:e.url}),alreadyFindedProductsGifts.push(productHandle))}))})),showGiftIconForMultiplesProducts&&(alreadyFindedProducts.indexOf(productHandle)>-1||checkImg(productHandle)||("undefined"!=typeof productSMHandle?productSMHandle!=productHandle&&productsToFind.push(productHandle):productsToFind.push(productHandle),alreadyFindedProducts.push(productHandle))))})),callFunctionSM("loadProductsToShowGiftIcon",[productsToFind,jQuery],!1),ajaxProductGiftsInSearchRequests=[],ajaxProductGiftsToFind=[],jQuery.each(productsGiftsToFind,(function(t,e){ajaxProductGiftsInSearchRequests.push(jQuery.getJSON("/products/"+e.originalHandle+".js").done((function(t){ajaxProductGiftsToFind.push(t)}))),ajaxProductGiftsInSearchRequests.push(jQuery.getJSON("/products/"+e.giftHandle+".js").done((function(t){ajaxProductGiftsToFind.push(t)})))})),jQuery.when.apply(jQuery,ajaxProductGiftsInSearchRequests).always((function(){jQuery.each(ajaxProductGiftsToFind,(function(t,e){jQuery("a[href]").each((function(){object=jQuery(this),href=object.attr("href"),productHandle=callFunctionSM("getProductHandle",[jQuery,href],!0),-1===href.indexOf("products/")||-1!==href.indexOf("/all-products/")||productHandle!=e.handle&&productHandle!=encodeURI(e.handle)||checkImg(productHandle)||callFunctionSM("checkIfContainNotAllowedSubstrings",[href],!0)||(callFunctionSM("findGiftProductAndReplaceByOriginal",[object,e,ajaxProductGiftsToFind,jQuery],!1),callFunctionSM("addVariantSelectorForGift",[object,e,ajaxProductGiftsToFind,cart,jQuery],!1))}))}))}))}function addVariantSelectorForGift(arguments){if(!sm_is_cart_page)return!1;object=arguments[0],product=arguments[1],ajaxProductGiftsToFind=arguments[2],cart=arguments[3],jQuery=arguments[4],1===parseInt(callFunctionSM("getMaybeUndefinedObjectVariableValue",[sm_desing_settings,"changeGiftVariantsInCart"],!0))&&jQuery.each(ajaxProductGiftsToFind,(function(t,e){e.variants.length>0&&callFunctionSM("checkIfProductIsGiftByProductID",[e.id,jQuery],!0)&&-1!==object.text().indexOf(e.title)&&0==object.parent().parent().parent().find('.smGiftInCartVariants[name="'+e.id+'"]').length&&0==object.parents("#gift_container").length&&(giftVariants=[],giftVariantInCart=callFunctionSM("getProductVariantInCartByID",[cart,e.id,jQuery],!0),selectedVariantTitle="",jQuery.each(e.variants,(function(t,e){callFunctionSM("checkIfGiftOrVariantIsAvailable",[e.available],!0)&&(parseInt(e.id)==parseInt(giftVariantInCart.id)&&(selectedVariantTitle=e.title),giftVariants.push("<option "+(parseInt(e.id)==parseInt(giftVariantInCart.id)?'selected="selected"':"")+' value="'+e.id+'" data-title="'+e.name+'">'+e.title+"</option>"))})),giftVariants.length>0&&0==object.siblings('.smGiftInCartVariants[name="'+e.id+'"]').length&&(hasMoreVariatns="Default Title"!=e.variants[0].title&&"Default"!=e.variants[0].title,object.after('<select name="'+e.id+'" data-selected-variant-id="'+giftVariantInCart.id+'" data-selected-variant-title="'+giftVariantInCart.title+'" data-selected-variant-variant="'+selectedVariantTitle+'" class="smGiftInCartVariants" '+(hasMoreVariatns?"":'style="display:none"')+">"+giftVariants.join("")+"</select>")))})),1===parseInt(callFunctionSM("getMaybeUndefinedObjectVariableValue",[sm_desing_settings,"removeGiftsLinks"],!0))&&jQuery.each(ajaxProductGiftsToFind,(function(t,e){callFunctionSM("checkIfProductIsGiftByProductID",[e.id,jQuery],!0)&&object.attr("href","javascript:void(0)")}))}function loadProductsToShowGiftIcon(arguments){if(sm_is_cart_page)return!1;productsToFind=arguments[0],jQuery=arguments[1],ajaxProductForGiftIconRequests=[],ajaxProductForGiftIcon=[],jQuery.each(productsToFind,(function(t,e){checkImg(e)||callFunctionSM("checkIfContainNotAllowedSubstrings",[e],!0)||ajaxProductForGiftIconRequests.push(jQuery.getJSON("/products/"+e+".js").done((function(t){ajaxProductForGiftIcon.push(t)})))})),jQuery.when.apply(jQuery,ajaxProductForGiftIconRequests).always((function(){jQuery.each(ajaxProductForGiftIcon,(function(t,e){jQuery("a[href]").each((function(){object=jQuery(this),href=object.attr("href"),productHandle=callFunctionSM("getProductHandle",[jQuery,href],!0),-1===href.indexOf("products/")||-1!==href.indexOf("/all-products/")||productHandle!=e.handle&&productHandle!=encodeURI(e.handle)||checkImg(productHandle)||callFunctionSM("checkIfContainNotAllowedSubstrings",[href],!0)||callFunctionSM("showGiftIcon",[object,e,jQuery],!1)}))}))}))}function showGiftIcon(arguments){object=arguments[0],product=arguments[1],jQuery=arguments[2],imgFind=!1,object.find("img:not(.smGiftImage)").each((function(){imgFind=!0,0==jQuery(this).parent().find(".productGiftIcon").length&&jQuery(this).parent().append(callFunctionSM("getAndStyleSelectedGiftIcon",[product,jQuery],!0))})),imgFind||object.siblings().each((function(){imgFind=!0,0==jQuery(this).find("img:not(.smGiftImage)").parent().find(".productGiftIcon").length&&jQuery(this).find("img:not(.smGiftImage)").parent().append(callFunctionSM("getAndStyleSelectedGiftIcon",[product,jQuery],!0))})),imgFind||object.siblings("img:not(.smGiftImage)").each((function(){imgFind=!0,0==jQuery(this).parent().find(".productGiftIcon").length&&jQuery(this).parent().append(callFunctionSM("getAndStyleSelectedGiftIcon",[product,jQuery],!0))})),imgFind||object.parent().find("img:not(.smGiftImage)").each((function(){imgFind=!0,0==jQuery(this).parent().find(".productGiftIcon").length&&jQuery(this).parent().append(callFunctionSM("getAndStyleSelectedGiftIcon",[product,jQuery],!0))})),imgFind||jQuery.each(smfixedParentProductsSelectors,(function(t,e){object.parents(e).length>0&&object.parents(e).find("img:not(.smGiftImage)").each((function(){imgFind=!0,0==jQuery(this).parent().find(".productGiftIcon").length&&jQuery(this).parent().append(callFunctionSM("getAndStyleSelectedGiftIcon",[product,jQuery],!0))}))}))}function getAndStyleSelectedGiftIcon(arguments){return product=arguments[0],jQuery=arguments[1],showFreeGiftIcon=0,jQuery.each(sm_products_gifts,(function(t,e){product.handle!=e.url&&product.handle!=encodeURI(e.url)||(showFreeGiftIcon=e.showFreeGiftIcon)})),jQuery.each(sm_multiple_products_gifts,(function(t,e){jQuery.each(e.multipleValues,(function(t,r){1==parseInt(e.multipleProductsType)?jQuery.each(sm_collections_products_ids[r.id],(function(t,r){product.id==r&&void 0!==e.showFreeGiftIcon&&0==showFreeGiftIcon&&(showFreeGiftIcon=e.showFreeGiftIcon)})):2==parseInt(e.multipleProductsType)?product.vendor==r.value&&void 0!==e.showFreeGiftIcon&&0==showFreeGiftIcon&&(showFreeGiftIcon=e.showFreeGiftIcon):4==parseInt(e.multipleProductsType)?product.type==r.value&&void 0!==e.showFreeGiftIcon&&0==showFreeGiftIcon&&(showFreeGiftIcon=e.showFreeGiftIcon):5==parseInt(e.multipleProductsType)&&parseInt(product.id)==parseInt(r.id)&&void 0!==e.showFreeGiftIcon&&0==showFreeGiftIcon&&(showFreeGiftIcon=e.showFreeGiftIcon)}))})),1==parseInt(showFreeGiftIcon)?(giftIcon=jQuery("#smGiftIcon"+sm_desing_settings.selectedGiftIcon).clone(),giftIcon.find(".svgBackground").css("fill",HSVtoRGB(sm_desing_settings.giftIconColor.hue,sm_desing_settings.giftIconColor.saturation,sm_desing_settings.giftIconColor.brightness)),3==parseInt(sm_desing_settings.selectedGiftIcon)&&giftIcon.find(".svgTextValue").html(sm_desing_settings.giftIconTextValue),'<span class="productGiftIcon" '+(2==parseInt(sm_desing_settings.selectedGiftIcon)?"style='top:5px'":"")+">"+giftIcon.html()+"</span>"):""}function showFreeGiftIconInProductDetail(arguments){jQuery=arguments[0],"undefined"!=typeof productSMHandle&&"undefined"!=typeof smFeaturedImage&&(jQuery(sm_product_detail_big_img_path).length>0?0==jQuery(sm_product_detail_big_img_path).parent().find(".productGiftIcon").length&&jQuery.getJSON("/products/"+productSMHandle+".js").done((function(t){jQuery(sm_product_detail_big_img_path).parent().append(callFunctionSM("getAndStyleSelectedGiftIcon",[t,jQuery],!0))})):(bigThumbImgObject=null,imgObjectWidth=0,imgObjectHeight=0,jQuery("img").each((function(){imgObject=jQuery(this),imgObject.each((function(){jQuery.each(this.attributes,(function(t,e){-1!==e.value.indexOf(smFeaturedImage.split(".").slice(0,-1).join("."))&&imgObject.width()>imgObjectWidth&&imgObject.height()>imgObjectHeight&&(imgObjectWidth=imgObject.width(),imgObjectHeight=imgObject.height(),bigThumbImgObject=imgObject)}))}))})),null!=bigThumbImgObject&&0==bigThumbImgObject.parent().find(".productGiftIcon").length&&jQuery.getJSON("/products/"+productSMHandle+".js").done((function(t){bigThumbImgObject.parent().append(callFunctionSM("getAndStyleSelectedGiftIcon",[t,jQuery],!0))}))))}function addOrderGiftToCart(arguments){object=arguments[0],jQuery=arguments[1],variantID=object.parents(".smOrderGift").find(".smProductVariants").val(),ajaxGetCartRequest=[],productVariantsToRemove=[],callFunctionSM("checkIfCanCumulatedOrderGifts",[jQuery],!0)||callFunctionSM("getCanAddMoreGiftsFromOffer",[object.parents(".smOrderGiftsWrapper").attr("data-order-id"),jQuery],!0)||ajaxGetCartRequest.push(jQuery.getJSON("/cart.js",(function(t){productsToOfferGifts=[],jQuery.each(t.items,(function(t,e){jQuery.each(sm_orders_gifts,(function(t,r){jQuery.each(r.gifts,(function(t,r){parseInt(e.product_id)==parseInt(r.id_gift)&&productVariantsToRemove.push(e.variant_id)}))}))}))}))),jQuery.when.apply(jQuery,ajaxGetCartRequest).always((function(){jQuery.ajax({type:"POST",url:"/cart/add.js",data:{quantity:1,id:variantID,properties:{":":callFunctionSM("getTranslationLabel",["gift_cart_property_label",{},jQuery],!0)},sm_gift:"1"},dataType:"json",beforeSend:function(){callFunctionSM("displayOverlay",[!0,jQuery],!1)},success:function(t){ajaxUpdateCartRequest=[],jQuery.each(productVariantsToRemove,(function(t,e){ajaxUpdateCartRequest.push(jQuery.ajax({method:"POST",url:"/cart/update.js",data:"updates["+e+"]=0&sm_gift=1"}))})),jQuery.when.apply(jQuery,ajaxUpdateCartRequest).always((function(){callFunctionSM("refreshGiftBox",[!1,jQuery],!1),sm_is_cart_page&&location.reload()}))}}).always((function(){callFunctionSM("refreshThirdPartyApps",[jQuery,!1],!1),callFunctionSM("displayOverlay",[!1,jQuery],!1)}))}))}function addOrderGiftToCartAutomatically(arguments){cart=arguments[0],giftWrapperObject=arguments[1],jQuery=arguments[2],callFunctionSM("getCanAddMoreGiftsFromOffer",[giftWrapperObject.find(".smOrderGiftsWrapper").attr("data-order-id"),jQuery],!0)?(orderGiftsToAddToCartAutomatically=[],jQuery(giftWrapperObject.find(".smOrderGiftsWrapper li")).each((function(){0==callFunctionSM("checkProductQuantityInCartByID",[cart,jQuery(this).attr("data-gift-id"),jQuery],!0)&&orderGiftsToAddToCartAutomatically.push({quantity:1,id:jQuery(this).find(".smProductVariants").val(),properties:{":":callFunctionSM("getTranslationLabel",["gift_cart_property_label",{},jQuery],!0)}})})),orderGiftsToAddToCartAutomatically.length>0&&jQuery.ajax({type:"POST",url:"/cart/add.js",data:{items:orderGiftsToAddToCartAutomatically,sm_gift:"1"},async:!1,dataType:"json"}).done((function(t){callFunctionSM("setOfferToAutoAddedList",[giftWrapperObject.find(".smOrderGiftsWrapper").attr("data-order-id"),"ctv"],!1),jQuery.getJSON("/cart.js",(function(t){callFunctionSM("checkIfGiftsCanBeInCart",[t,jQuery],!1),jQuery(giftWrapperObject.find(".smOrderGiftsWrapper li")).each((function(){giftVariantInCart=callFunctionSM("getProductVariantInCartByID",[t,jQuery(this).attr("data-gift-id"),jQuery],!0),jQuery(this).attr("data-is-in-cart",1),jQuery(this).addClass("isInCart"),jQuery(this).css("padding","10px 15px"),jQuery(this).find(".smProductGiftLine").hide(),jQuery(this).find(".alreadyInCartGiftTitle a").html(giftVariantInCart.title),jQuery(this).find(".removeFromCart").attr("data-variant-id",giftVariantInCart.id),jQuery(this).find(".giftLineAlreadyInCart").show()})),callFunctionSM("refreshThirdPartyApps",[jQuery,!1],!1),sm_is_cart_page&&location.reload()}))}))):0==callFunctionSM("checkProductQuantityInCartByID",[cart,giftWrapperObject.find(".smOrderGiftsWrapper li:eq(0)").attr("data-gift-id"),jQuery],!0)&&(productVariantsToRemove=[],variantID=giftWrapperObject.find(".smOrderGiftsWrapper li:eq(0) .smProductVariants").val(),giftWrapperObject.attr("data-variant-id",variantID),callFunctionSM("checkIfCanCumulatedOrderGifts",[jQuery],!0)||jQuery.each(cart.items,(function(t,e){jQuery.each(sm_orders_gifts,(function(t,r){jQuery.each(r.gifts,(function(t,r){parseInt(e.product_id)==parseInt(r.id_gift)&&productVariantsToRemove.push(e.variant_id)}))}))})),jQuery.ajax({type:"POST",url:"/cart/add.js",data:{quantity:1,id:variantID,properties:{":":callFunctionSM("getTranslationLabel",["gift_cart_property_label",{},jQuery],!0)},sm_gift:"1"},async:!1,dataType:"json"}).done((function(t){callFunctionSM("setOfferToAutoAddedList",[giftWrapperObject.find(".smOrderGiftsWrapper").attr("data-order-id"),"ctv"],!1),callFunctionSM("automaticallyAddedOrderGiftCallback",[productVariantsToRemove,t.id,jQuery],!1),callFunctionSM("refreshThirdPartyApps",[jQuery,!1],!1)})))}function automaticallyAddedOrderGiftCallback(arguments){productVariantsToRemove=arguments[0],giftWrapperObjectVariantID=arguments[1],jQuery=arguments[2],jQuery.each(productVariantsToRemove,(function(t,e){jQuery.ajax({method:"POST",url:"/cart/update.js",data:"updates["+e+"]=0&sm_gift=1"})})),giftWrapperObject=jQuery(".orderGiftsWrapper[data-variant-id="+giftWrapperObjectVariantID+"]"),giftVariantTitle=giftWrapperObject.find(".smOrderGiftsWrapper li:eq(0) .smProductVariants").find("option[value="+giftWrapperObject.find(".smOrderGiftsWrapper li:eq(0) .smProductVariants").val()+"]").html(),giftWrapperObject.find(".alreadyInCartGiftTitle a").attr("href",giftWrapperObject.find(".smOrderGiftsWrapper li:eq(0) .item-name a").attr("href")),giftWrapperObject.find(".alreadyInCartGiftTitle a").html(giftWrapperObject.find(".smOrderGiftsWrapper li:eq(0) .item-name a").html()+("Default Title"!=giftVariantTitle&&"Default"!=giftVariantTitle?" - "+giftVariantTitle:"")),giftWrapperObject.find(".removeFromCart").attr("data-variant-id",giftWrapperObject.find(".smOrderGiftsWrapper li:eq(0) .smProductVariants").val()),giftWrapperObject.css({border:"1px solid #00800070",background:"rgb(245, 251, 244)"}),giftWrapperObject.find(".giftAlreadyInCart").show(),giftWrapperObject.find(".giftsToOffer").hide(),jQuery.getJSON("/cart.js",(function(t){callFunctionSM("checkIfGiftsCanBeInCart",[t,jQuery],!1)})),sm_is_cart_page&&location.reload()}function addProductGiftToCart(arguments){parentObject=arguments[0],jQuery=arguments[1],variantID=parentObject.find(".smProductVariants").val(),jQuery.ajax({type:"POST",url:"/cart/add.js",data:{quantity:1,id:variantID,properties:{":":callFunctionSM("getTranslationLabel",["gift_cart_property_label",{},jQuery],!0)},sm_gift:"1"},dataType:"json",beforeSend:function(){callFunctionSM("displayOverlay",[!0,jQuery],!1)},success:function(t){callFunctionSM("refreshGiftBox",[!1,jQuery],!1),sm_is_cart_page&&location.reload()}}).always((function(){callFunctionSM("refreshThirdPartyApps",[jQuery,!1],!1),callFunctionSM("displayOverlay",[!1,jQuery],!1)}))}function addProductGiftToCartAutomatically(arguments){productGiftWrapperObject=arguments[0],jQuery=arguments[1],giftProductQuantity=1,baseProductID=parseInt(productGiftWrapperObject.find(".smProductGiftsWrapper").attr("data-product-id")),callFunctionSM("canCopyFromBaseProductQuantity",[baseProductID],!0)&&(giftProductQuantity=parseInt(callFunctionSM("checkProductQuantityInCartByID",[cart,baseProductID,jQuery],!0))),callFunctionSM("getCanAddMoreGiftsFromOffer",[baseProductID,jQuery],!0)?(productGiftsToAddToCartAutomatically=[],jQuery(productGiftWrapperObject.find(".smProductGiftsWrapper li")).each((function(){0==callFunctionSM("checkProductQuantityInCartByID",[cart,jQuery(this).attr("data-gift-id"),jQuery],!0)&&productGiftsToAddToCartAutomatically.push({quantity:giftProductQuantity,id:jQuery(this).find(".smProductVariants").val(),properties:{":":callFunctionSM("getTranslationLabel",["gift_cart_property_label",{},jQuery],!0)}})})),productGiftsToAddToCartAutomatically.length>0&&jQuery.ajax({type:"POST",url:"/cart/add.js",data:{items:productGiftsToAddToCartAutomatically,sm_gift:"1"},async:!1,dataType:"json"}).done((function(t){callFunctionSM("setOfferToAutoAddedList",[baseProductID,"product"],!1),jQuery.getJSON("/cart.js",(function(t){callFunctionSM("checkIfGiftsCanBeInCart",[t,jQuery],!1),jQuery(productGiftWrapperObject.find(".smProductGiftsWrapper li")).each((function(){giftVariantInCart=callFunctionSM("getProductVariantInCartByID",[t,jQuery(this).attr("data-gift-id"),jQuery],!0),jQuery(this).attr("data-is-in-cart",1),jQuery(this).addClass("isInCart"),jQuery(this).css("padding","10px 15px"),jQuery(this).find(".smProductGiftLine").hide(),jQuery(this).find(".alreadyInCartGiftTitle a").html(giftVariantInCart.title),jQuery(this).find(".removeFromCart").attr("data-variant-id",giftVariantInCart.id),jQuery(this).find(".giftLineAlreadyInCart").show()})),callFunctionSM("copyProductGiftBoxToDetailPage",[jQuery],!1),callFunctionSM("refreshThirdPartyApps",[jQuery,!1],!1),sm_is_cart_page&&location.reload()}))}))):(variantID=productGiftWrapperObject.find(".smProductGiftsWrapper li:eq(0) .smProductVariants").val(),jQuery.ajax({type:"POST",url:"/cart/add.js",data:{quantity:giftProductQuantity,id:variantID,properties:{":":callFunctionSM("getTranslationLabel",["gift_cart_property_label",{},jQuery],!0)},sm_gift:"1"},dataType:"json",success:function(t){callFunctionSM("setOfferToAutoAddedList",[baseProductID,"product"],!1),callFunctionSM("automaticallyAddedProductGiftCallback",[productGiftWrapperObject,jQuery],!1),callFunctionSM("copyProductGiftBoxToDetailPage",[jQuery],!1),callFunctionSM("refreshThirdPartyApps",[jQuery,!1],!1)}}))}function automaticallyAddedProductGiftCallback(arguments){productGiftWrapperObject=arguments[0],jQuery=arguments[1],productVariantTitle=productGiftWrapperObject.find(".smProductGiftsWrapper li:eq(0) .smProductVariants").find("option[value="+productGiftWrapperObject.find(".smProductGiftsWrapper li:eq(0) .smProductVariants").val()+"]").html(),productInfo={item:{url:productGiftWrapperObject.find(".smProductGiftsWrapper li:eq(0) .item-name a").attr("href"),title:productGiftWrapperObject.find(".smProductGiftsWrapper li:eq(0) .item-name a").html()+("Default Title"!=productVariantTitle&&"Default"!=productVariantTitle?" - "+productVariantTitle:"")}},productGiftWrapperObject.find(".alreadyInCartGiftTitle").html(callFunctionSM("getTranslationLabel",["gift_already_in_cart",productInfo,jQuery],!0)),productGiftWrapperObject.find(".removeFromCart").attr("data-variant-id",productGiftWrapperObject.find(".smProductGiftsWrapper li:eq(0) .smProductVariants").val()),productGiftWrapperObject.find(".removeFromCart").html(callFunctionSM("getTranslationLabel",["remove_from_cart",{},jQuery],!0)),productGiftWrapperObject.css({border:"1px solid #00800070",background:"rgb(245, 251, 244)"}),productGiftWrapperObject.find(".giftAlreadyInCart").show(),productGiftWrapperObject.find(".giftsToOffer").hide(),jQuery.getJSON("/cart.js",(function(t){callFunctionSM("checkIfGiftsCanBeInCart",[t,jQuery],!1)})),sm_is_cart_page&&location.reload()}function addMultipleProductsGiftToCartAutomatically(arguments){multipleProductGiftWrapperObject=arguments[0],jQuery=arguments[1],callFunctionSM("getCanAddMoreGiftsFromOffer",[multipleProductGiftWrapperObject.find(".smMultipleProductsGiftsWrapper").attr("data-multiple-products-id"),jQuery],!0)?(mulipleProductGiftsToAddToCartAutomatically=[],jQuery(multipleProductGiftWrapperObject.find(".smMultipleProductsGiftsWrapper li")).each((function(){0==callFunctionSM("checkProductQuantityInCartByID",[cart,jQuery(this).attr("data-gift-id"),jQuery],!0)&&mulipleProductGiftsToAddToCartAutomatically.push({quantity:1,id:jQuery(this).find(".smProductVariants").val(),properties:{":":callFunctionSM("getTranslationLabel",["gift_cart_property_label",{},jQuery],!0)}})})),mulipleProductGiftsToAddToCartAutomatically.length>0&&jQuery.ajax({type:"POST",url:"/cart/add.js",data:{items:mulipleProductGiftsToAddToCartAutomatically,sm_gift:"1"},async:!1,dataType:"json"}).done((function(t){callFunctionSM("setOfferToAutoAddedList",[multipleProductGiftWrapperObject.find(".smMultipleProductsGiftsWrapper").attr("data-multiple-products-id"),"multiple_products"],!1),jQuery.getJSON("/cart.js",(function(t){callFunctionSM("checkIfGiftsCanBeInCart",[t,jQuery],!1),jQuery(multipleProductGiftWrapperObject.find(".smMultipleProductsGiftsWrapper li")).each((function(){giftVariantInCart=callFunctionSM("getProductVariantInCartByID",[t,jQuery(this).attr("data-gift-id"),jQuery],!0),jQuery(this).attr("data-is-in-cart",1),jQuery(this).addClass("isInCart"),jQuery(this).css("padding","10px 15px"),jQuery(this).find(".smProductGiftLine").hide(),jQuery(this).find(".alreadyInCartGiftTitle a").html(giftVariantInCart.title),jQuery(this).find(".removeFromCart").attr("data-variant-id",giftVariantInCart.id),jQuery(this).find(".giftLineAlreadyInCart").show()})),callFunctionSM("copyMultipleProductGiftBoxToDetailPage",[jQuery],!1),callFunctionSM("refreshThirdPartyApps",[jQuery,!1],!1),sm_is_cart_page&&location.reload()}))}))):(variantID=multipleProductGiftWrapperObject.find(".smMultipleProductsGiftsWrapper li:eq(0) .smProductVariants").val(),jQuery.ajax({type:"POST",url:"/cart/add.js",data:{quantity:1,id:variantID,properties:{":":callFunctionSM("getTranslationLabel",["gift_cart_property_label",{},jQuery],!0)},sm_gift:"1"},dataType:"json",success:function(t){callFunctionSM("setOfferToAutoAddedList",[multipleProductGiftWrapperObject.find(".smMultipleProductsGiftsWrapper").attr("data-multiple-products-id"),"multiple_products"],!1),callFunctionSM("automaticallyAddedMultipleProductsGiftCallback",[multipleProductGiftWrapperObject,jQuery],!1),callFunctionSM("copyMultipleProductGiftBoxToDetailPage",[jQuery],!1),callFunctionSM("refreshThirdPartyApps",[jQuery,!1],!1)}}))}function automaticallyAddedMultipleProductsGiftCallback(arguments){multipleProductsGiftWrapperObject=arguments[0],jQuery=arguments[1],productVariantTitle=multipleProductsGiftWrapperObject.find(".smMultipleProductsGiftsWrapper li:eq(0) .smProductVariants").find("option[value="+multipleProductsGiftWrapperObject.find(".smMultipleProductsGiftsWrapper li:eq(0) .smProductVariants").val()+"]").html(),productInfo={item:{url:multipleProductsGiftWrapperObject.find(".smMultipleProductsGiftsWrapper li:eq(0) .item-name a").attr("href"),title:multipleProductsGiftWrapperObject.find(".smMultipleProductsGiftsWrapper li:eq(0) .item-name a").html()+("Default Title"!=productVariantTitle&&"Default"!=productVariantTitle?" - "+productVariantTitle:"")}},multipleProductsGiftWrapperObject.find(".alreadyInCartGiftTitle").html(callFunctionSM("getTranslationLabel",["gift_already_in_cart",productInfo,jQuery],!0)),multipleProductsGiftWrapperObject.find(".removeFromCart").attr("data-variant-id",multipleProductsGiftWrapperObject.find(".smMultipleProductsGiftsWrapper li:eq(0) .smProductVariants").val()),multipleProductsGiftWrapperObject.find(".removeFromCart").html(callFunctionSM("getTranslationLabel",["remove_from_cart",{},jQuery],!0)),multipleProductsGiftWrapperObject.css({border:"1px solid #00800070",background:"rgb(245, 251, 244)"}),multipleProductsGiftWrapperObject.find(".giftAlreadyInCart").show(),multipleProductsGiftWrapperObject.find(".giftsToOffer").hide(),callFunctionSM("refreshGiftBox",[!1,jQuery],!1),jQuery.getJSON("/cart.js",(function(t){callFunctionSM("checkIfGiftsCanBeInCart",[t,jQuery],!1)})),sm_is_cart_page&&location.reload()}function setOfferToAutoAddedList(arguments){offerID=arguments[0],offerType=arguments[1],addGiftToCartAutomaticallyOnlyFirstTime=callFunctionSM("getMaybeUndefinedObjectVariableValue",[sm_desing_settings,"addGiftToCartAutomaticallyOnlyFirstTime"],!0),!1!==addGiftToCartAutomaticallyOnlyFirstTime&&1==parseInt(addGiftToCartAutomaticallyOnlyFirstTime)&&callFunctionSM("smSetCookie",["sm_auto_added_"+offerType+"_offer_"+offerID,"1",.04],!1)}function getAutoAddToCartAttr(arguments){return automaticallyAddToCart=arguments[0],offerType=arguments[1],offerID=arguments[2],addGiftToCartAutomaticallyOnlyFirstTime=callFunctionSM("getMaybeUndefinedObjectVariableValue",[sm_desing_settings,"addGiftToCartAutomaticallyOnlyFirstTime"],!0),!1!==addGiftToCartAutomaticallyOnlyFirstTime&&callFunctionSM("smGetCookie",["sm_auto_added_"+offerType+"_offer_"+offerID],!0).length>0&&1==parseInt(addGiftToCartAutomaticallyOnlyFirstTime)?0:automaticallyAddToCart}function removeProductFromCart(arguments){variantID=arguments[0],isAutomaticGift=arguments[1],removedByCustomer=arguments[2],jQuery=arguments[3],jQuery.ajax({type:"POST",dataType:"json",url:"/cart/update.js",data:"updates["+variantID+"]=0&sm_gift=1",beforeSend:function(){callFunctionSM("displayOverlay",[!0,jQuery],!1)}}).always((function(t,e){callFunctionSM("refreshGiftBox",[removedByCustomer,jQuery],!1),callFunctionSM("refreshThirdPartyApps",[jQuery,!0],!1),callFunctionSM("displayOverlay",[!1,jQuery],!1),sm_is_cart_page&&!isAutomaticGift&&location.reload()}))}function getGiftsInCartCount(arguments){return cart=arguments[0],jQuery=arguments[1],giftsCount=0,jQuery(cart.items).each((function(t,e){0==e.price&&giftsCount++})),giftsCount}function updateQuantityInCart(arguments){variantID=arguments[0],quantity=arguments[1],jQuery=arguments[2],jQuery.ajax({type:"POST",url:"/cart/update.js",dataType:"json",data:"updates["+variantID+"]="+quantity+"&sm_gift=1",beforeSend:function(){callFunctionSM("displayOverlay",[!0,jQuery],!1)}}).always((function(t,e){callFunctionSM("refreshThirdPartyApps",[jQuery,!1],!1),callFunctionSM("displayOverlay",[!1,jQuery],!1),sm_is_cart_page&&location.reload()}))}function changeGiftVariantInCart(arguments){giftSelectorObject=arguments[0],jQuery=arguments[1],oldVariantID=giftSelectorObject.attr("data-selected-variant-id"),newVariantID=giftSelectorObject.val(),jQuery.ajax({type:"POST",dataType:"json",url:"/cart/update.js",data:"updates["+oldVariantID+"]=0&sm_gift=1",beforeSend:function(){callFunctionSM("displayOverlay",[!0,jQuery],!1)}}).always((function(t,e){jQuery.ajax({type:"POST",dataType:"json",url:"/cart/update.js",data:"updates["+newVariantID+"]=1&sm_gift=1"}).always((function(t,e){giftSelectorObject.parent().parent().find("*:not(option)").each((function(){jQuery(this).html().trim()==giftSelectorObject.attr("data-selected-variant-title")&&jQuery(this).html(giftSelectorObject.find('option[value="'+giftSelectorObject.val()+'"]').attr("data-title")),jQuery(this).html().trim()==giftSelectorObject.attr("data-selected-variant-variant")&&jQuery(this).html(giftSelectorObject.find('option[value="'+giftSelectorObject.val()+'"]').html())})),giftSelectorObject.attr("data-selected-variant-title",giftSelectorObject.find('option[value="'+giftSelectorObject.val()+'"]').attr("data-title")),giftSelectorObject.attr("data-selected-variant-variant",giftSelectorObject.find('option[value="'+giftSelectorObject.val()+'"]').html()),giftSelectorObject.attr("data-selected-variant-id",newVariantID),callFunctionSM("refreshGiftBox",[!1,jQuery],!1),callFunctionSM("refreshThirdPartyApps",[jQuery,!1],!1),callFunctionSM("displayOverlay",[!1,jQuery],!1)}))}))}function findGiftProductAndReplaceByOriginal(arguments){if(sm_is_cart_page)return!1;object=arguments[0],product=arguments[1],ajaxProductGifts=arguments[2],jQuery=arguments[3],jQuery.each(sm_products_gifts,(function(t,e){jQuery.each(e.gifts,(function(t,e){product.handle!=e.url&&product.handle!=encodeURI(e.url)||jQuery.each(ajaxProductGifts,(function(t,r){r.handle==e.original_url||(encodeURI(r.handle),encodeURI(e.original_url))}))}))})),jQuery.each(sm_orders_gifts,(function(t,e){jQuery.each(e.gifts,(function(t,e){product.handle!=e.url&&product.handle!=encodeURI(e.url)||jQuery.each(ajaxProductGifts,(function(t,r){r.handle==e.original_url||(encodeURI(r.handle),encodeURI(e.original_url))}))}))})),jQuery.each(sm_multiple_products_gifts,(function(t,e){jQuery.each(e.gifts,(function(t,e){product.handle!=e.url&&product.handle!=encodeURI(e.url)||jQuery.each(ajaxProductGifts,(function(t,r){r.handle==e.original_url||(encodeURI(r.handle),encodeURI(e.original_url))}))}))}))}function sortLoadedProducts(arguments){return products=arguments[0],jQuery=arguments[1],products.sort((function(t,e){return smax=t.handle,smay=e.handle,smax<smay?-1:smax>smay?1:0}))}function getValidUntilDateHtml(arguments){return object=arguments[0],jQuery=arguments[1],null!=object.startDate&&null!=object.endDate?(end=new Date(object.endDate),'<div class="offerGiftsUntilDate"><span class="offerGiftsUntilDateIcon"></span>&nbsp; <span>'+callFunctionSM("getTranslationLabel",["active_until",end,jQuery],!0)+"</span></div>"):""}function displayGiftsBox(arguments){jQuery=arguments[0],jQuery(".giftWrapper").length>0&&0==parseInt(sm_desing_settings.hideGiftBox)&&(callFunctionSM("applyGiftsBoxDesign",[jQuery],!1),jQuery("#sticky_gift_icon").show(),callFunctionSM("showGiftsCount",[jQuery],!1))}function showGiftsCount(arguments){jQuery=arguments[0],giftsCountInGiftBox=0,jQuery("#gift_container:eq(0) .giftWrapper").each((function(){"none"!=jQuery(this).css("display")&&giftsCountInGiftBox++})),jQuery(".giftsCount").html(giftsCountInGiftBox),0==giftsCountInGiftBox&&jQuery("#sticky_gift_icon, #gift_container").hide()}function setGiftsLinksStyle(arguments){jQuery=arguments[0],void 0!==sm_desing_settings.removeGiftsLinks&&1==parseInt(sm_desing_settings.removeGiftsLinks)&&(jQuery("#gift_container").length>0&&jQuery("#gift_container").addClass("removeLinks"),jQuery("#smProductDetailGiftMainWrapper").length>0&&jQuery("#smProductDetailGiftMainWrapper").addClass("removeLinks"))}function applyGiftsBoxDesign(arguments){jQuery=arguments[0],void 0!==sm_desing_settings.backgroundColorOfGiftBoxIcon&&jQuery("#sticky_gift_icon span").css("background",HSVtoRGB(sm_desing_settings.backgroundColorOfGiftBoxIcon.hue,sm_desing_settings.backgroundColorOfGiftBoxIcon.saturation,sm_desing_settings.backgroundColorOfGiftBoxIcon.brightness)),jQuery("#gift_container .giftContainerContent").css("background",HSVtoRGB(sm_desing_settings.backgroundColorOfGiftBox.hue,sm_desing_settings.backgroundColorOfGiftBox.saturation,sm_desing_settings.backgroundColorOfGiftBox.brightness)),2==parseInt(sm_desing_settings.selectedGiftBoxPosition)&&(jQuery("#sticky_gift_icon.stickyGartRight, #sticky_gift_icon, #gift_container").css({right:"unset",left:"20px"}),jQuery("#sticky_gift_icon mark").css("left","unset")),void 0!==sm_desing_settings.giftBoxIconIsPulsed&&1==parseInt(sm_desing_settings.giftBoxIconIsPulsed)&&jQuery("#sticky_gift_icon span").addClass("giftBoxPulse")}function displayOverlay(arguments){isDisplay=arguments[0],jQuery=arguments[1],isDisplay?(ajaxIsRunning=!0,jQuery("#gift_container #overlaySection").show()):setTimeout((function(){jQuery("#gift_container #overlaySection").hide(),ajaxIsRunning=!1}),500)}function getProductMinimalQuantity(arguments){return productID=arguments[0],jQuery=arguments[1],minimumProductsCount=1,jQuery.each(sm_products_gifts,(function(t,e){parseInt(productID)==parseInt(e.id)&&void 0!==e.minimumProductsCount&&(minimumProductsCount=parseInt(e.minimumProductsCount))})),minimumProductsCount}function getProductMinimalQuantityForMultipleProducts(arguments){return multipleProductsGifts=arguments[0],jQuery=arguments[1],minimumProductsCount=1,void 0!==multipleProductsGifts.minimumProductsCount&&(minimumProductsCount=parseInt(multipleProductsGifts.minimumProductsCount)),minimumProductsCount}function isOwnGiftByProductID(arguments){return productID=arguments[0],jQuery=arguments[1],isOwnGift=!1,jQuery.each(sm_orders_gifts,(function(t,e){jQuery.each(e.gifts,(function(t,e){e.id_gift==productID&&(isOwnGift="/"==e.original_url)}))})),jQuery.each(sm_products_gifts,(function(t,e){jQuery.each(e.gifts,(function(t,e){e.id_gift==productID&&(isOwnGift="/"==e.original_url)}))})),jQuery.each(sm_multiple_products_gifts,(function(t,e){jQuery.each(e.gifts,(function(t,e){e.id_gift==productID&&(isOwnGift="/"==e.original_url)}))})),isOwnGift}function getGiftsBaseProductIDs(arguments){return productID=arguments[0],giftsList=arguments[1],jQuery=arguments[2],giftsBaseProductIDs=[],jQuery.each(giftsList,(function(t,e){jQuery.each(e.gifts,(function(t,r){r.id_gift==productID&&giftsBaseProductIDs.push(e.id)}))})),giftsBaseProductIDs}function canCopyFromBaseProductQuantity(arguments){return productID=arguments[0],void 0!==sm_products_gifts[productID]&&void 0!==sm_products_gifts[productID].copyBaseProductQuantity&&1==parseInt(sm_products_gifts[productID].copyBaseProductQuantity)}function overridePaymentButtonEvent(arguments){jQuery=arguments[0],setTimeout((function(){jQuery("button.shopify-payment-button__button").length>0&&(callFunctionSM("clonePaymentButton",[jQuery],!1),clonePaymentButtonIntervalIsActive=!1,jQuery(document).on("change","input, select",(function(){clonePaymentButtonIsFindedIntervalCounter=1,clonePaymentButtonIntervalIsActive||(clonePaymentButtonIntervalIsActive=!0,clonePaymentButtonIsFindedInterval=setInterval((function(){0==jQuery(".smClonedPaymentButton").length||clonePaymentButtonIsFindedIntervalCounter>=15?(callFunctionSM("clonePaymentButton",[jQuery],!1),clearInterval(clonePaymentButtonIsFindedInterval),clonePaymentButtonIntervalIsActive=!1):clonePaymentButtonIsFindedIntervalCounter++}),100))})),jQuery(document).on("click",".smClonedPaymentButton",(function(t){jQuery.post("/cart/add.js",jQuery(".smClonedPaymentButton").parents("form:eq(0)").serialize()+"&sm_is_payment_button=1")})))}),500)}function clonePaymentButton(arguments){jQuery=arguments[0],originalPaymentButton=jQuery("button.shopify-payment-button__button:eq(0)"),paymentButtonClone=originalPaymentButton.clone().addClass("smClonedPaymentButton"),jQuery(paymentButtonClone).insertAfter(originalPaymentButton),originalPaymentButton.remove()}function overrideCheckouButtonEvent(arguments){jQuery=arguments[0],"undefined"!=typeof sm_override_checkout_button&&(jQuery('[name="checkout"], button[name="checkout"], input[name="checkout"], form[action^="/checkout"] [type="submit"], [href*="checkout"], button[value="Checkout"], input[value="Checkout"], [href="/checkout"], .btn-checkout, a[name="checkout"]').removeAttr("onclick"),jQuery(document).on("click",'[name="checkout"], button[name="checkout"], input[name="checkout"], form[action^="/checkout"] [type="submit"], [href*="checkout"], button[value="Checkout"], input[value="Checkout"], [href="/checkout"], .btn-checkout, a[name="checkout"]',(function(t){checkoutButton=jQuery(this),t.preventDefault(),t.stopPropagation(),sm_is_cart_page=!1,jQuery.ajax({type:"POST",url:"/cart",data:checkoutButton.parents('form[action="/cart"]:eq(0)').serialize()}).always((function(t,e){callFunctionSM("refreshGiftBox",[!1,jQuery],!1),setTimeout((function(){window.location.href="/checkout"}),1e3)}))})))}function getMoneyFormatFromConfig(arguments){return sm_money_format.replace("@@","{{").replace("&&","}}")}function getTranslationLabel(arguments){return type=arguments[0],object=arguments[1],jQuery=arguments[2],"gift_already_in_cart"==type?(isOwnGift=!1,jQuery.each(sm_products_gifts,(function(t,e){jQuery.each(e.gifts,(function(t,e){void 0!==object.item.url&&-1!==object.item.url.indexOf("/products/"+e.url)&&(isOwnGift="/"==e.original_url)}))})),jQuery.each(sm_orders_gifts,(function(t,e){jQuery.each(e.gifts,(function(t,e){void 0!==object.item.url&&-1!==object.item.url.indexOf("/products/"+e.url)&&(isOwnGift="/"==e.original_url)}))})),jQuery.each(sm_multiple_products_gifts,(function(t,e){jQuery.each(e.gifts,(function(t,e){void 0!==object.item.url&&-1!==object.item.url.indexOf("/products/"+e.url)&&(isOwnGift="/"==e.original_url)}))})),sm_translations_labels[type].replace("GIFT_NAME",'<a href="'+(isOwnGift?"javascript:void(0)":callFunctionSM("getProuctUrl",[object.item.url],!0))+'">'+object.item.title+"</a>")):"add_product_to_cart_and_get_gift"==type||"pick_free_gift_for_product"==type?(isOwnGift=!1,jQuery.each(sm_products_gifts,(function(t,e){jQuery.each(e.gifts,(function(t,e){void 0!==object.product.url&&-1!==object.product.url.indexOf("/products/"+e.url)&&(isOwnGift="/"==e.original_url)}))})),jQuery.each(sm_orders_gifts,(function(t,e){jQuery.each(e.gifts,(function(t,e){void 0!==object.product.url&&-1!==object.product.url.indexOf("/products/"+e.url)&&(isOwnGift="/"==e.original_url)}))})),jQuery.each(sm_multiple_products_gifts,(function(t,e){jQuery.each(e.gifts,(function(t,e){void 0!==object.product.url&&-1!==object.product.url.indexOf("/products/"+e.url)&&(isOwnGift="/"==e.original_url)}))})),callFunctionSM("truncateLongLabel",[sm_translations_labels[type].replace("PRODUCT_QUANTITY",object.quantity).replace("PRODUCT_NAME",'<a href="'+(isOwnGift?"javascript:void(0)":object.product.url)+'">'+object.product.title+"</a>"),150,"..."],!0)):"pick_free_gift_for_multiple_products"==type?callFunctionSM("truncateLongLabel",[sm_translations_labels[type].replace("TYPE_VALUES",object.typeValues),150,"..."],!0):"add_multiple_products_to_cart_and_get_gift"==type?callFunctionSM("truncateLongLabel",[sm_translations_labels[type].replace("PRODUCT_QUANTITY",object.quantity).replace("TYPE_VALUES",object.typeValues),150,"..."],!0):"pick_free_gift_for_order"==type?callFunctionSM("truncateLongLabel",[sm_translations_labels[type].replace("ORDER_MINIMUM",object),150,"..."],!0):"buy_for_more_and_get_gift"==type?callFunctionSM("truncateLongLabel",[sm_translations_labels[type].replace("ORDER_MINIMUM",object.orderMinimumFormated).replace("TO_SPEND",object.toSpend),150,"..."],!0):"buy_for_more_and_get_gift_with_conditions"==type?void 0!==sm_translations_labels[type]?callFunctionSM("truncateLongLabel",[sm_translations_labels[type].replace("ORDER_MINIMUM",object.orderMinimumFormated).replace("TO_SPEND",object.toSpend).replace("CONDITIONAL_PRODUCTS",object.conditionalProducts).replace("CONDITIONAL_COLLECTIONS",object.conditionalCollections).replace("CONDITIONAL_VENDORS",object.conditionalVendors),150,"..."],!0):callFunctionSM("truncateLongLabel",[sm_translations_labels.buy_for_more_and_get_gift.replace("ORDER_MINIMUM",object.orderMinimumFormated).replace("TO_SPEND",object.toSpend),150,"..."],!0):"active_until"==type?(untilDateFormat=callFunctionSM("getMaybeUndefinedObjectVariableValue",[sm_translations_labels,"until_date_format"],!0),untilDateFormated=object.getDate()+"."+(object.getMonth()+1)+"."+object.getFullYear(),!1!==untilDateFormat&&(untilDateFormated=callFunctionSM("getUntilDateFormated",[object,untilDateFormat],!0)),sm_translations_labels[type].replace("UNTIL_DATE",untilDateFormated)):sm_translations_labels[type]}function truncateLongLabel(arguments){return truncateString=arguments[0],maxStringLength=arguments[1],truncateEndWith=arguments[2],truncateString.length>maxStringLength?truncateString.substring(0,maxStringLength)+truncateEndWith:truncateString}function getUntilDateFormated(arguments){untilDate=arguments[0],untilDateFormat=arguments[1];let t="MM/DD/YYYY";smDateFormatOptions.map((e=>{e.value==untilDateFormat.toString()&&(t=e.label)}));let e=untilDate.getDate().toString();1==e.length&&(e="0"+e);let r=(untilDate.getMonth()+1).toString();return 1==r.length&&(r="0"+r),t=t.replace("YYYY",untilDate.getFullYear()),t=t.replace("MM",r),t=t.replace("DD",e),t}function getMaybeUndefinedObjectVariableValue(arguments){return mainObject=arguments[0],variableName=arguments[1],void 0!==mainObject[variableName]&&mainObject[variableName]}function getProuctUrl(arguments){return productURL=arguments[0],void 0!==sm_desing_settings.removeGiftsLinks&&1==parseInt(sm_desing_settings.removeGiftsLinks)?"javascript:void(0)":productURL}function getProductHandle(arguments){return jQuery=arguments[0],href=arguments[1],explodedHref=href.split("/"),productHandleWithAttributes=explodedHref[explodedHref.length-1],"/"==productHandleWithAttributes&&(productHandleWithAttributes=explodedHref[explodedHref.length-2]),explodedProductHandleWithAttributes=productHandleWithAttributes.split("?"),decodeURIComponent(explodedProductHandleWithAttributes[0])}function checkIfContainNotAllowedSubstrings(arguments){return url=arguments[0],-1!==url.indexOf("pinterest.com")||-1!==url.indexOf("facebook.com")||-1!==url.indexOf("twitter.com")||-1!==url.indexOf("cdn.shopify.com")}function giftCTVFilterConditions(arguments){return orderGiftValue=arguments[0],jQuery=arguments[1],void 0!==orderGiftValue.filterConditions?orderGiftValue.filterConditions:[]}function giftCTVFilterConditionType(arguments){return orderGiftValue=arguments[0],jQuery=arguments[1],void 0!==orderGiftValue.filterConditionType?orderGiftValue.filterConditionType:"anyone"}function getCanAddMoreGiftsFromOffer(arguments){return giftsOfferID=arguments[0],jQuery=arguments[1],offerCanAddMoreGifts=!1,jQuery.each(sm_orders_gifts,(function(t,e){e.id==parseInt(giftsOfferID)&&void 0!==e.canAddMoreGifts&&(offerCanAddMoreGifts=1==parseInt(e.canAddMoreGifts))})),jQuery.each(sm_products_gifts,(function(t,e){e.id==parseInt(giftsOfferID)&&void 0!==e.canAddMoreGifts&&(offerCanAddMoreGifts=1==parseInt(e.canAddMoreGifts))})),jQuery.each(sm_multiple_products_gifts,(function(t,e){e.id==parseInt(giftsOfferID)&&void 0!==e.canAddMoreGifts&&(offerCanAddMoreGifts=1==parseInt(e.canAddMoreGifts))})),offerCanAddMoreGifts}function checkIfCanCumulatedOrderGifts(arguments){return ctvHasFilterConditions=!1,jQuery.each(sm_orders_gifts,(function(t,e){callFunctionSM("giftCTVFilterConditions",[e,jQuery],!0).length>0&&(ctvHasFilterConditions=!0)})),can_cumulate_order_offers||ctvHasFilterConditions}function thirdPartyAppsCallbacks(arguments){jQuery=arguments[0],window.SLIDECART_UPDATED=function(t){callFunctionSM("refreshGiftBox",[!1,jQuery],!1)}}function refreshThirdPartyApps(arguments){try{jQuery=arguments[0],isGiftRemoving=arguments[1],void 0!==window.SLIDECART_UPDATE&&window.SLIDECART_UPDATE(),void 0!==window.HSSLIDECART&&HsCartDrawer.updateSlideCart(),document.documentElement.dispatchEvent(new CustomEvent("cart:refresh")),jQuery(document).find("#CartDrawer .quantity__button").length>0&&!isGiftRemoving&&jQuery(document).find("#CartDrawer .quantity__button").click()}catch(t){}}function checkImg(t){return null!=t.match(/\.(jpeg|jpg|gif|png)$/)}function HSVtoRGB(t,e,r){var i=t/60;const a=r*e,n=a*(1-Math.abs(i%2-1)),o=r-a;let u,c,d;return i||(u=0,c=0,d=0),i>=0&&i<1&&(u=a,c=n,d=0),i>=1&&i<2&&(u=n,c=a,d=0),i>=2&&i<3&&(u=0,c=a,d=n),i>=3&&i<4&&(u=0,c=n,d=a),i>=4&&i<5&&(u=n,c=0,d=a),i>=5&&i<6&&(u=a,c=0,d=n),u=Math.round(255*(u+o)),c=Math.round(255*(c+o)),d=Math.round(255*(d+o)),"rgb("+u+", "+c+", "+d+")"}function smSetCookie(arguments){cname=arguments[0],cvalue=arguments[1],exdays=arguments[2];var t=new Date;t.setTime(t.getTime()+24*exdays*60*60*1e3);var e="expires="+t.toUTCString();document.cookie=cname+"="+cvalue+";"+e+";path=/"}function smGetCookie(arguments){cname=arguments[0];for(var t=cname+"=",e=document.cookie.split(";"),r=0;r<e.length;r++){for(var i=e[r];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function callFunctionSM(t,arguments,e){if(void 0!==window[t+"Override"]){if(e)return window[t+"Override"](arguments);window[t+"Override"](arguments)}else{if(e)return window[t](arguments);window[t](arguments)}}!function(){var t=function(t){callFunctionSM("initConfiguration",[t],!1)};"undefined"==typeof jQuery||parseFloat(jQuery.fn.jquery)<1.7?function(t,e){var r=document.createElement("script");r.type="text/javascript",r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,e())}:r.onload=function(){e()},r.src=t,document.getElementsByTagName("head")[0].appendChild(r)}("//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js",(function(){jQuery191=jQuery.noConflict(!0),t(jQuery191)})):t(jQuery),void 0===window.Shopify&&(window.Shopify={}),void 0===Shopify.formatMoney&&(Shopify.formatMoney=function(t,e){"string"==typeof t&&(t=t.replace(".",""));var r="",i=/\{\{\s*(\w+)\s*\}\}/,a=e||this.money_format;function n(t,e){return void 0===t?e:t}function o(t,e,r,i){if(e=n(e,2),r=n(r,","),i=n(i,"."),isNaN(t)||null==t)return 0;var a=(t=(t/100).toFixed(e)).split(".");return a[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+r)+(a[1]?i+a[1]:"")}switch(a.match(i)[1]){case"amount":r=o(t,2);break;case"amount_no_decimals":r=o(t,0);break;case"amount_with_comma_separator":r=o(t,2,".",",");break;case"amount_no_decimals_with_comma_separator":r=o(t,0,".",",");break;case"amount_no_decimals_with_space_separator":r=o(t,0," ");break;case"amount_with_apostrophe_separator":r=o(t,2,"'")}return a.replace(i,r)})}();
